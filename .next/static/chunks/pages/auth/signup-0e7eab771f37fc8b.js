(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[613],{9184:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return f}});var t=n(8307),a=n(29),s=n(4687),o=n.n(s),l=n(7294),c=n(1163),u=n(1664),i=n.n(u),d=n(5893);function p(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,t)}return n}function m(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?p(Object(n),!0).forEach(function(r){(0,t.Z)(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f(){var e,r=(0,l.useState)({name:"",email:"",password:"",role:"patient"}),n=r[0],s=r[1],u=(0,l.useState)(""),p=u[0],f=u[1],b=(0,c.useRouter)(),h=(e=(0,a.Z)(o().mark(function e(r){var t,a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),f(""),e.prev=2,e.next=5,fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 5:return t=e.sent,e.next=8,t.json();case 8:if(a=e.sent,t.ok){e.next=11;break}throw Error(a.error||"Failed to create account");case 11:b.push("/auth/signin"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),f(e.t0 instanceof Error?e.t0.message:"An error occurred during sign up");case 17:case"end":return e.stop()}},e,null,[[2,14]])})),function(r){return e.apply(this,arguments)}),x=function(e){var r=e.target,n=r.name,a=r.value;s(function(e){return m(m({},e),{},(0,t.Z)({},n,a))})};return(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,d.jsx)("div",{children:(0,d.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})}),(0,d.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:h,children:[p&&(0,d.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:p}),(0,d.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),(0,d.jsx)("input",{id:"name",name:"name",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:n.name,onChange:x})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),(0,d.jsx)("input",{id:"email",name:"email",type:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:n.email,onChange:x})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,d.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n.password,onChange:x})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"role",className:"sr-only",children:"Role"}),(0,d.jsxs)("select",{id:"role",name:"role",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",value:n.role,onChange:x,children:[(0,d.jsx)("option",{value:"patient",children:"Patient"}),(0,d.jsx)("option",{value:"doctor",children:"Doctor"})]})]})]}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Sign up"})})]}),(0,d.jsx)("div",{className:"text-center",children:(0,d.jsx)(i(),{href:"/auth/signin",className:"text-blue-600 hover:text-blue-500",children:"Already have an account? Sign in"})})]})})}},2120:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/signup",function(){return n(9184)}])}},function(e){e.O(0,[478,888,774,179],function(){return e(e.s=2120)}),_N_E=e.O()}]);