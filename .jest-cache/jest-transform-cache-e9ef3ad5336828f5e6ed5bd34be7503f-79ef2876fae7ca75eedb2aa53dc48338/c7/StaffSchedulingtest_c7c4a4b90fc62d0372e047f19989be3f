d2d0393198e9be5cecf41df5d55b66fb
"use strict";

// Mock the AuthContext
_getJestObj().mock('../context/AuthContext', () => ({
  AuthProvider: ({
    children
  }) => children,
  useAuth: () => ({
    user: {
      id: '1',
      name: 'Test User',
      email: 'test@example.com',
      role: 'admin'
    }
  })
}));

// Mock fetch API
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _react2 = require("@testing-library/react");
var _reactRouterDom = require("react-router-dom");
var _AuthContext = require("../context/AuthContext");
var _StaffScheduling = _interopRequireDefault(require("./StaffScheduling"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
global.fetch = jest.fn();

// Helper function to render component with router
const renderWithRouter = component => {
  return (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_reactRouterDom.BrowserRouter, {
    children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_AuthContext.AuthProvider, {
      children: component
    })
  }));
};
describe('StaffScheduling Component', () => {
  beforeEach(() => {
    // Reset mocks before each test
    jest.clearAllMocks();

    // Mock successful API response
    global.fetch.mockResolvedValue({
      ok: true,
      json: async () => ({
        schedules: [{
          id: '1',
          staffId: '101',
          staffName: 'Dr. John Smith',
          department: 'cardiology',
          startTime: '2023-12-15T09:00:00',
          endTime: '2023-12-15T17:00:00',
          notes: 'Regular shift'
        }, {
          id: '2',
          staffId: '102',
          staffName: 'Nurse Jane Doe',
          department: 'emergency',
          startTime: '2023-12-15T08:00:00',
          endTime: '2023-12-15T16:00:00',
          notes: 'Morning shift'
        }]
      })
    });
  });
  test('renders StaffScheduling component', async () => {
    renderWithRouter(/*#__PURE__*/(0, _jsxRuntime.jsx)(_StaffScheduling.default, {}));

    // Check if the component title is rendered
    expect(_react2.screen.getByText('Staff Scheduling')).toBeInTheDocument();
  });
  test('displays loading state initially', () => {
    renderWithRouter(/*#__PURE__*/(0, _jsxRuntime.jsx)(_StaffScheduling.default, {}));

    // Check if loading indicator is displayed
    expect(_react2.screen.getByText('Loading schedules...')).toBeInTheDocument();
  });
  test('fetches and displays schedules', async () => {
    renderWithRouter(/*#__PURE__*/(0, _jsxRuntime.jsx)(_StaffScheduling.default, {}));

    // Wait for the API call to resolve and component to update
    await (0, _react2.waitFor)(() => {
      expect(global.fetch).toHaveBeenCalledTimes(1);
      expect(global.fetch).toHaveBeenCalledWith('/api/schedules');
    });

    // Check if schedule data is displayed
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Dr. John Smith')).toBeInTheDocument();
      expect(_react2.screen.getByText('Nurse Jane Doe')).toBeInTheDocument();
    });
  });
  test('handles API error gracefully', async () => {
    // Mock API error
    global.fetch.mockRejectedValueOnce(new Error('Failed to fetch'));
    renderWithRouter(/*#__PURE__*/(0, _jsxRuntime.jsx)(_StaffScheduling.default, {}));

    // Wait for the API call to reject and component to update
    await (0, _react2.waitFor)(() => {
      expect(global.fetch).toHaveBeenCalledTimes(1);
    });

    // Check if error message is displayed
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText(/Failed to fetch/)).toBeInTheDocument();
    });
  });
  test('submits new schedule form correctly', async () => {
    // Mock API response for creating a new schedule
    global.fetch.mockImplementation((url, options) => {
      if (options && options.method === 'POST') {
        return Promise.resolve({
          ok: true,
          json: async () => ({
            id: '3',
            staffId: '103',
            staffName: 'Dr. New Doctor',
            department: 'neurology',
            startTime: '2023-12-16T10:00:00',
            endTime: '2023-12-16T18:00:00',
            notes: 'Afternoon shift'
          })
        });
      }

      // Default response for GET requests
      return Promise.resolve({
        ok: true,
        json: async () => ({
          schedules: [{
            id: '1',
            staffId: '101',
            staffName: 'Dr. John Smith',
            department: 'cardiology',
            startTime: '2023-12-15T09:00:00',
            endTime: '2023-12-15T17:00:00',
            notes: 'Regular shift'
          }, {
            id: '2',
            staffId: '102',
            staffName: 'Nurse Jane Doe',
            department: 'emergency',
            startTime: '2023-12-15T08:00:00',
            endTime: '2023-12-15T16:00:00',
            notes: 'Morning shift'
          }]
        })
      });
    });
    renderWithRouter(/*#__PURE__*/(0, _jsxRuntime.jsx)(_StaffScheduling.default, {}));

    // Wait for the initial API call to resolve
    await (0, _react2.waitFor)(() => {
      expect(global.fetch).toHaveBeenCalledTimes(1);
    });

    // Fill out the form
    _react2.fireEvent.change(_react2.screen.getByLabelText(/Staff Member/i), {
      target: {
        value: '103'
      }
    });
    _react2.fireEvent.change(_react2.screen.getByLabelText(/Start Time/i), {
      target: {
        value: '2023-12-16T10:00'
      }
    });
    _react2.fireEvent.change(_react2.screen.getByLabelText(/End Time/i), {
      target: {
        value: '2023-12-16T18:00'
      }
    });
    _react2.fireEvent.change(_react2.screen.getByLabelText(/Department/i), {
      target: {
        value: 'neurology'
      }
    });
    _react2.fireEvent.change(_react2.screen.getByLabelText(/Notes/i), {
      target: {
        value: 'Afternoon shift'
      }
    });

    // Submit the form
    _react2.fireEvent.click(_react2.screen.getByText('Create Schedule'));

    // Wait for the POST API call
    await (0, _react2.waitFor)(() => {
      expect(global.fetch).toHaveBeenCalledTimes(2);
      expect(global.fetch.mock.calls[1][0]).toBe('/api/schedules');
      expect(global.fetch.mock.calls[1][1].method).toBe('POST');
    });

    // Check that the form data was sent correctly
    const requestBody = JSON.parse(global.fetch.mock.calls[1][1].body);
    expect(requestBody).toEqual({
      staffId: '103',
      startTime: '2023-12-16T10:00',
      endTime: '2023-12-16T18:00',
      department: 'neurology',
      notes: 'Afternoon shift'
    });
  });
  test('filters schedules by date', async () => {
    renderWithRouter(/*#__PURE__*/(0, _jsxRuntime.jsx)(_StaffScheduling.default, {}));

    // Wait for the API call to resolve and component to update
    await (0, _react2.waitFor)(() => {
      expect(global.fetch).toHaveBeenCalledTimes(1);
    });

    // Find and change the date filter
    const dateInput = _react2.screen.getByDisplayValue(new Date().toISOString().split('T')[0]);
    _react2.fireEvent.change(dateInput, {
      target: {
        value: '2023-12-16'
      }
    });

    // Check if the date filter was applied
    // This would typically trigger a new API call or filter the existing data
    // The implementation details would depend on how the component is built
  });
  test('filters schedules by staff', async () => {
    renderWithRouter(/*#__PURE__*/(0, _jsxRuntime.jsx)(_StaffScheduling.default, {}));

    // Wait for the API call to resolve and component to update
    await (0, _react2.waitFor)(() => {
      expect(global.fetch).toHaveBeenCalledTimes(1);
    });

    // Find and change the staff filter
    const staffSelect = _react2.screen.getByDisplayValue('All Staff');
    _react2.fireEvent.change(staffSelect, {
      target: {
        value: '101'
      }
    });

    // Check if the staff filter was applied
    // This would typically trigger a new API call or filter the existing data
    // The implementation details would depend on how the component is built
  });
  test('form validation works correctly', async () => {
    renderWithRouter(/*#__PURE__*/(0, _jsxRuntime.jsx)(_StaffScheduling.default, {}));

    // Wait for the initial API call to resolve
    await (0, _react2.waitFor)(() => {
      expect(global.fetch).toHaveBeenCalledTimes(1);
    });

    // Try to submit the form without filling required fields
    _react2.fireEvent.click(_react2.screen.getByText('Create Schedule'));

    // Check that the form wasn't submitted
    await (0, _react2.waitFor)(() => {
      expect(global.fetch).toHaveBeenCalledTimes(1); // No additional API calls
    });

    // Check for validation messages
    // This depends on how validation is implemented in the component
    // expect(screen.getByText(/required/i)).toBeInTheDocument();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJBdXRoUHJvdmlkZXIiLCJjaGlsZHJlbiIsInVzZUF1dGgiLCJ1c2VyIiwiaWQiLCJuYW1lIiwiZW1haWwiLCJyb2xlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVhY3QiLCJfcmVhY3QyIiwiX3JlYWN0Um91dGVyRG9tIiwiX0F1dGhDb250ZXh0IiwiX1N0YWZmU2NoZWR1bGluZyIsIl9qc3hSdW50aW1lIiwiamVzdCIsImdsb2JhbCIsImZldGNoIiwiZm4iLCJyZW5kZXJXaXRoUm91dGVyIiwiY29tcG9uZW50IiwicmVuZGVyIiwianN4IiwiQnJvd3NlclJvdXRlciIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsIm9rIiwianNvbiIsInNjaGVkdWxlcyIsInN0YWZmSWQiLCJzdGFmZk5hbWUiLCJkZXBhcnRtZW50Iiwic3RhcnRUaW1lIiwiZW5kVGltZSIsIm5vdGVzIiwidGVzdCIsImRlZmF1bHQiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsIndhaXRGb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsIm1vY2tSZWplY3RlZFZhbHVlT25jZSIsIkVycm9yIiwibW9ja0ltcGxlbWVudGF0aW9uIiwidXJsIiwib3B0aW9ucyIsIm1ldGhvZCIsIlByb21pc2UiLCJyZXNvbHZlIiwiZmlyZUV2ZW50IiwiY2hhbmdlIiwiZ2V0QnlMYWJlbFRleHQiLCJ0YXJnZXQiLCJ2YWx1ZSIsImNsaWNrIiwiY2FsbHMiLCJ0b0JlIiwicmVxdWVzdEJvZHkiLCJKU09OIiwicGFyc2UiLCJib2R5IiwidG9FcXVhbCIsImRhdGVJbnB1dCIsImdldEJ5RGlzcGxheVZhbHVlIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJzdGFmZlNlbGVjdCJdLCJzb3VyY2VzIjpbIlN0YWZmU2NoZWR1bGluZy50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yIH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyBCcm93c2VyUm91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBBdXRoUHJvdmlkZXIgfSBmcm9tICcuLi9jb250ZXh0L0F1dGhDb250ZXh0JztcbmltcG9ydCBTdGFmZlNjaGVkdWxpbmcgZnJvbSAnLi9TdGFmZlNjaGVkdWxpbmcnO1xuXG4vLyBNb2NrIHRoZSBBdXRoQ29udGV4dFxuamVzdC5tb2NrKCcuLi9jb250ZXh0L0F1dGhDb250ZXh0JywgKCkgPT4gKHtcbiAgICBBdXRoUHJvdmlkZXI6ICh7IGNoaWxkcmVuIH0pID0+IGNoaWxkcmVuLFxuICAgIHVzZUF1dGg6ICgpID0+ICh7XG4gICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgIGlkOiAnMScsXG4gICAgICAgICAgICBuYW1lOiAnVGVzdCBVc2VyJyxcbiAgICAgICAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICAgICAgICByb2xlOiAnYWRtaW4nXG4gICAgICAgIH1cbiAgICB9KVxufSkpO1xuXG4vLyBNb2NrIGZldGNoIEFQSVxuZ2xvYmFsLmZldGNoID0gamVzdC5mbigpO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcmVuZGVyIGNvbXBvbmVudCB3aXRoIHJvdXRlclxuY29uc3QgcmVuZGVyV2l0aFJvdXRlciA9IChjb21wb25lbnQpID0+IHtcbiAgICByZXR1cm4gcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICAgIDxBdXRoUHJvdmlkZXI+XG4gICAgICAgICAgICAgICAge2NvbXBvbmVudH1cbiAgICAgICAgICAgIDwvQXV0aFByb3ZpZGVyPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgKTtcbn07XG5cbmRlc2NyaWJlKCdTdGFmZlNjaGVkdWxpbmcgQ29tcG9uZW50JywgKCkgPT4ge1xuICAgIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgICAgICAvLyBSZXNldCBtb2NrcyBiZWZvcmUgZWFjaCB0ZXN0XG4gICAgICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgICAgICBcbiAgICAgICAgLy8gTW9jayBzdWNjZXNzZnVsIEFQSSByZXNwb25zZVxuICAgICAgICBnbG9iYWwuZmV0Y2gubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgICAgICAgIHNjaGVkdWxlczogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhZmZJZDogJzEwMScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFmZk5hbWU6ICdEci4gSm9obiBTbWl0aCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXBhcnRtZW50OiAnY2FyZGlvbG9neScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWU6ICcyMDIzLTEyLTE1VDA5OjAwOjAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWU6ICcyMDIzLTEyLTE1VDE3OjAwOjAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVzOiAnUmVndWxhciBzaGlmdCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICcyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWZmSWQ6ICcxMDInLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhZmZOYW1lOiAnTnVyc2UgSmFuZSBEb2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudDogJ2VtZXJnZW5jeScsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWU6ICcyMDIzLTEyLTE1VDA4OjAwOjAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWU6ICcyMDIzLTEyLTE1VDE2OjAwOjAwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVzOiAnTW9ybmluZyBzaGlmdCdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ3JlbmRlcnMgU3RhZmZTY2hlZHVsaW5nIGNvbXBvbmVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyV2l0aFJvdXRlcig8U3RhZmZTY2hlZHVsaW5nIC8+KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBjb21wb25lbnQgdGl0bGUgaXMgcmVuZGVyZWRcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1N0YWZmIFNjaGVkdWxpbmcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdkaXNwbGF5cyBsb2FkaW5nIHN0YXRlIGluaXRpYWxseScsICgpID0+IHtcbiAgICAgICAgcmVuZGVyV2l0aFJvdXRlcig8U3RhZmZTY2hlZHVsaW5nIC8+KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIGxvYWRpbmcgaW5kaWNhdG9yIGlzIGRpc3BsYXllZFxuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTG9hZGluZyBzY2hlZHVsZXMuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdmZXRjaGVzIGFuZCBkaXNwbGF5cyBzY2hlZHVsZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcldpdGhSb3V0ZXIoPFN0YWZmU2NoZWR1bGluZyAvPik7XG4gICAgICAgIFxuICAgICAgICAvLyBXYWl0IGZvciB0aGUgQVBJIGNhbGwgdG8gcmVzb2x2ZSBhbmQgY29tcG9uZW50IHRvIHVwZGF0ZVxuICAgICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL3NjaGVkdWxlcycpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIHNjaGVkdWxlIGRhdGEgaXMgZGlzcGxheWVkXG4gICAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0RyLiBKb2huIFNtaXRoJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnTnVyc2UgSmFuZSBEb2UnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnaGFuZGxlcyBBUEkgZXJyb3IgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gTW9jayBBUEkgZXJyb3JcbiAgICAgICAgZ2xvYmFsLmZldGNoLm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCcpKTtcbiAgICAgICAgXG4gICAgICAgIHJlbmRlcldpdGhSb3V0ZXIoPFN0YWZmU2NoZWR1bGluZyAvPik7XG4gICAgICAgIFxuICAgICAgICAvLyBXYWl0IGZvciB0aGUgQVBJIGNhbGwgdG8gcmVqZWN0IGFuZCBjb21wb25lbnQgdG8gdXBkYXRlXG4gICAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGlmIGVycm9yIG1lc3NhZ2UgaXMgZGlzcGxheWVkXG4gICAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL0ZhaWxlZCB0byBmZXRjaC8pKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdzdWJtaXRzIG5ldyBzY2hlZHVsZSBmb3JtIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gTW9jayBBUEkgcmVzcG9uc2UgZm9yIGNyZWF0aW5nIGEgbmV3IHNjaGVkdWxlXG4gICAgICAgIGdsb2JhbC5mZXRjaC5tb2NrSW1wbGVtZW50YXRpb24oKHVybCwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5tZXRob2QgPT09ICdQT1NUJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnMycsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFmZklkOiAnMTAzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YWZmTmFtZTogJ0RyLiBOZXcgRG9jdG9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlcGFydG1lbnQ6ICduZXVyb2xvZ3knLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiAnMjAyMy0xMi0xNlQxMDowMDowMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRUaW1lOiAnMjAyMy0xMi0xNlQxODowMDowMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBub3RlczogJ0FmdGVybm9vbiBzaGlmdCdcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRGVmYXVsdCByZXNwb25zZSBmb3IgR0VUIHJlcXVlc3RzXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWZmSWQ6ICcxMDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWZmTmFtZTogJ0RyLiBKb2huIFNtaXRoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBhcnRtZW50OiAnY2FyZGlvbG9neScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiAnMjAyMy0xMi0xNVQwOTowMDowMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGltZTogJzIwMjMtMTItMTVUMTc6MDA6MDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVzOiAnUmVndWxhciBzaGlmdCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICcyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFmZklkOiAnMTAyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFmZk5hbWU6ICdOdXJzZSBKYW5lIERvZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwYXJ0bWVudDogJ2VtZXJnZW5jeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lOiAnMjAyMy0xMi0xNVQwODowMDowMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kVGltZTogJzIwMjMtMTItMTVUMTY6MDA6MDAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGVzOiAnTW9ybmluZyBzaGlmdCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICByZW5kZXJXaXRoUm91dGVyKDxTdGFmZlNjaGVkdWxpbmcgLz4pO1xuICAgICAgICBcbiAgICAgICAgLy8gV2FpdCBmb3IgdGhlIGluaXRpYWwgQVBJIGNhbGwgdG8gcmVzb2x2ZVxuICAgICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGaWxsIG91dCB0aGUgZm9ybVxuICAgICAgICBmaXJlRXZlbnQuY2hhbmdlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvU3RhZmYgTWVtYmVyL2kpLCB7IFxuICAgICAgICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnMTAzJyB9IFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9TdGFydCBUaW1lL2kpLCB7IFxuICAgICAgICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnMjAyMy0xMi0xNlQxMDowMCcgfSBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBmaXJlRXZlbnQuY2hhbmdlKHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvRW5kIFRpbWUvaSksIHsgXG4gICAgICAgICAgICB0YXJnZXQ6IHsgdmFsdWU6ICcyMDIzLTEyLTE2VDE4OjAwJyB9IFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9EZXBhcnRtZW50L2kpLCB7IFxuICAgICAgICAgICAgdGFyZ2V0OiB7IHZhbHVlOiAnbmV1cm9sb2d5JyB9IFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9Ob3Rlcy9pKSwgeyBcbiAgICAgICAgICAgIHRhcmdldDogeyB2YWx1ZTogJ0FmdGVybm9vbiBzaGlmdCcgfSBcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBTdWJtaXQgdGhlIGZvcm1cbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0NyZWF0ZSBTY2hlZHVsZScpKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFdhaXQgZm9yIHRoZSBQT1NUIEFQSSBjYWxsXG4gICAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuICAgICAgICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaC5tb2NrLmNhbGxzWzFdWzBdKS50b0JlKCcvYXBpL3NjaGVkdWxlcycpO1xuICAgICAgICAgICAgZXhwZWN0KGdsb2JhbC5mZXRjaC5tb2NrLmNhbGxzWzFdWzFdLm1ldGhvZCkudG9CZSgnUE9TVCcpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIHRoYXQgdGhlIGZvcm0gZGF0YSB3YXMgc2VudCBjb3JyZWN0bHlcbiAgICAgICAgY29uc3QgcmVxdWVzdEJvZHkgPSBKU09OLnBhcnNlKGdsb2JhbC5mZXRjaC5tb2NrLmNhbGxzWzFdWzFdLmJvZHkpO1xuICAgICAgICBleHBlY3QocmVxdWVzdEJvZHkpLnRvRXF1YWwoe1xuICAgICAgICAgICAgc3RhZmZJZDogJzEwMycsXG4gICAgICAgICAgICBzdGFydFRpbWU6ICcyMDIzLTEyLTE2VDEwOjAwJyxcbiAgICAgICAgICAgIGVuZFRpbWU6ICcyMDIzLTEyLTE2VDE4OjAwJyxcbiAgICAgICAgICAgIGRlcGFydG1lbnQ6ICduZXVyb2xvZ3knLFxuICAgICAgICAgICAgbm90ZXM6ICdBZnRlcm5vb24gc2hpZnQnXG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIFxuICAgIHRlc3QoJ2ZpbHRlcnMgc2NoZWR1bGVzIGJ5IGRhdGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcldpdGhSb3V0ZXIoPFN0YWZmU2NoZWR1bGluZyAvPik7XG4gICAgICAgIFxuICAgICAgICAvLyBXYWl0IGZvciB0aGUgQVBJIGNhbGwgdG8gcmVzb2x2ZSBhbmQgY29tcG9uZW50IHRvIHVwZGF0ZVxuICAgICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGaW5kIGFuZCBjaGFuZ2UgdGhlIGRhdGUgZmlsdGVyXG4gICAgICAgIGNvbnN0IGRhdGVJbnB1dCA9IHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZShuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSk7XG4gICAgICAgIGZpcmVFdmVudC5jaGFuZ2UoZGF0ZUlucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJzIwMjMtMTItMTYnIH0gfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgZGF0ZSBmaWx0ZXIgd2FzIGFwcGxpZWRcbiAgICAgICAgLy8gVGhpcyB3b3VsZCB0eXBpY2FsbHkgdHJpZ2dlciBhIG5ldyBBUEkgY2FsbCBvciBmaWx0ZXIgdGhlIGV4aXN0aW5nIGRhdGFcbiAgICAgICAgLy8gVGhlIGltcGxlbWVudGF0aW9uIGRldGFpbHMgd291bGQgZGVwZW5kIG9uIGhvdyB0aGUgY29tcG9uZW50IGlzIGJ1aWx0XG4gICAgfSk7XG4gICAgXG4gICAgdGVzdCgnZmlsdGVycyBzY2hlZHVsZXMgYnkgc3RhZmYnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcldpdGhSb3V0ZXIoPFN0YWZmU2NoZWR1bGluZyAvPik7XG4gICAgICAgIFxuICAgICAgICAvLyBXYWl0IGZvciB0aGUgQVBJIGNhbGwgdG8gcmVzb2x2ZSBhbmQgY29tcG9uZW50IHRvIHVwZGF0ZVxuICAgICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBGaW5kIGFuZCBjaGFuZ2UgdGhlIHN0YWZmIGZpbHRlclxuICAgICAgICBjb25zdCBzdGFmZlNlbGVjdCA9IHNjcmVlbi5nZXRCeURpc3BsYXlWYWx1ZSgnQWxsIFN0YWZmJyk7XG4gICAgICAgIGZpcmVFdmVudC5jaGFuZ2Uoc3RhZmZTZWxlY3QsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnMTAxJyB9IH0pO1xuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHN0YWZmIGZpbHRlciB3YXMgYXBwbGllZFxuICAgICAgICAvLyBUaGlzIHdvdWxkIHR5cGljYWxseSB0cmlnZ2VyIGEgbmV3IEFQSSBjYWxsIG9yIGZpbHRlciB0aGUgZXhpc3RpbmcgZGF0YVxuICAgICAgICAvLyBUaGUgaW1wbGVtZW50YXRpb24gZGV0YWlscyB3b3VsZCBkZXBlbmQgb24gaG93IHRoZSBjb21wb25lbnQgaXMgYnVpbHRcbiAgICB9KTtcbiAgICBcbiAgICB0ZXN0KCdmb3JtIHZhbGlkYXRpb24gd29ya3MgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXJXaXRoUm91dGVyKDxTdGFmZlNjaGVkdWxpbmcgLz4pO1xuICAgICAgICBcbiAgICAgICAgLy8gV2FpdCBmb3IgdGhlIGluaXRpYWwgQVBJIGNhbGwgdG8gcmVzb2x2ZVxuICAgICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBUcnkgdG8gc3VibWl0IHRoZSBmb3JtIHdpdGhvdXQgZmlsbGluZyByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0NyZWF0ZSBTY2hlZHVsZScpKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIHRoYXQgdGhlIGZvcm0gd2Fzbid0IHN1Ym1pdHRlZFxuICAgICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgICAgIGV4cGVjdChnbG9iYWwuZmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTsgLy8gTm8gYWRkaXRpb25hbCBBUEkgY2FsbHNcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBmb3IgdmFsaWRhdGlvbiBtZXNzYWdlc1xuICAgICAgICAvLyBUaGlzIGRlcGVuZHMgb24gaG93IHZhbGlkYXRpb24gaXMgaW1wbGVtZW50ZWQgaW4gdGhlIGNvbXBvbmVudFxuICAgICAgICAvLyBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvcmVxdWlyZWQvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG59KTsgIl0sIm1hcHBpbmdzIjoiOztBQU1BO0FBQ0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLHdCQUF3QixFQUFFLE9BQU87RUFDdkNDLFlBQVksRUFBRUEsQ0FBQztJQUFFQztFQUFTLENBQUMsS0FBS0EsUUFBUTtFQUN4Q0MsT0FBTyxFQUFFQSxDQUFBLE1BQU87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