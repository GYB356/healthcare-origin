aed44e95e2b8404a6359514fc9b67190
"use strict";

// Mock the modules
_getJestObj().mock('axios');
_getJestObj().mock('../../context/SocketContext', () => ({
  ...jest.requireActual('../../context/SocketContext'),
  useSocket: () => ({
    socket: {
      on: jest.fn(),
      off: jest.fn(),
      emit: jest.fn()
    },
    joinTelemedicineSession: jest.fn(),
    leaveTelemedicineSession: jest.fn()
  })
}));

// Mock getUserMedia
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _react2 = require("@testing-library/react");
var _reactRouterDom = require("react-router-dom");
var _AuthContext = require("../../context/AuthContext");
var _SocketContext = require("../../context/SocketContext");
var _Telemedicine = _interopRequireDefault(require("../../pages/Telemedicine"));
var _axios = _interopRequireDefault(require("axios"));
var _jsxRuntime = require("react/jsx-runtime");
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const mockGetUserMedia = jest.fn(async () => ({
  getTracks: () => [{
    enabled: true,
    stop: jest.fn()
  }]
}));
Object.defineProperty(global.navigator, 'mediaDevices', {
  value: {
    getUserMedia: mockGetUserMedia
  }
});

// Mock RTCPeerConnection
global.RTCPeerConnection = jest.fn().mockImplementation(() => ({
  addTrack: jest.fn(),
  createOffer: jest.fn().mockResolvedValue({
    sdp: 'test-sdp'
  }),
  setLocalDescription: jest.fn(),
  setRemoteDescription: jest.fn(),
  addIceCandidate: jest.fn(),
  close: jest.fn(),
  ontrack: null,
  onicecandidate: null
}));
describe('Telemedicine Component', () => {
  const mockSession = {
    id: 'test-session',
    doctorId: 'doctor-1',
    patientId: 'patient-1',
    scheduledTime: new Date().toISOString(),
    status: 'scheduled'
  };
  const renderComponent = (role = 'doctor') => {
    const mockUser = {
      id: 'user-1',
      role: role
    };
    return (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_reactRouterDom.MemoryRouter, {
      initialEntries: ['/telemedicine/test-session'],
      children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_AuthContext.AuthProvider, {
        value: {
          user: mockUser,
          hasRole: () => true
        },
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_SocketContext.SocketProvider, {
          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_reactRouterDom.Routes, {
            children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_reactRouterDom.Route, {
              path: "/telemedicine/:sessionId",
              element: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Telemedicine.default, {})
            })
          })
        })
      })
    }));
  };
  beforeEach(() => {
    jest.clearAllMocks();
    _axios.default.get.mockResolvedValue({
      data: mockSession
    });
  });
  it('renders access denied for unauthorized users', () => {
    const mockUser = {
      id: 'user-1',
      role: 'staff'
    };
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_reactRouterDom.MemoryRouter, {
      children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_AuthContext.AuthProvider, {
        value: {
          user: mockUser,
          hasRole: () => false
        },
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_SocketContext.SocketProvider, {
          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_Telemedicine.default, {})
        })
      })
    }));
    expect(_react2.screen.getByText('Access Denied')).toBeInTheDocument();
  });
  it('loads and displays telemedicine session', async () => {
    renderComponent();
    await (0, _react2.waitFor)(() => {
      expect(_axios.default.get).toHaveBeenCalledWith('/api/telemedicine/sessions/test-session');
    });
    expect(_react2.screen.getByText(/Telemedicine Session/)).toBeInTheDocument();
  });
  it('handles media stream initialization', async () => {
    renderComponent();
    const startCallButton = await _react2.screen.findByText('Start Call');
    _react2.fireEvent.click(startCallButton);
    await (0, _react2.waitFor)(() => {
      expect(mockGetUserMedia).toHaveBeenCalledWith({
        video: true,
        audio: true
      });
    });
  });
  it('toggles audio and video', async () => {
    renderComponent();

    // Start the call
    const startCallButton = await _react2.screen.findByText('Start Call');
    _react2.fireEvent.click(startCallButton);
    await (0, _react2.waitFor)(() => {
      expect(mockGetUserMedia).toHaveBeenCalled();
    });

    // Toggle audio
    const audioButton = _react2.screen.getByRole('button', {
      name: /audio/i
    });
    _react2.fireEvent.click(audioButton);

    // Toggle video
    const videoButton = _react2.screen.getByRole('button', {
      name: /video/i
    });
    _react2.fireEvent.click(videoButton);
  });
  it('handles error states', async () => {
    _axios.default.get.mockRejectedValueOnce(new Error('Failed to load session'));
    renderComponent();
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Error')).toBeInTheDocument();
      expect(_react2.screen.getByText('Failed to load session')).toBeInTheDocument();
    });
  });
  it('cleans up resources on unmount', async () => {
    const {
      unmount
    } = renderComponent();

    // Start the call
    const startCallButton = await _react2.screen.findByText('Start Call');
    _react2.fireEvent.click(startCallButton);
    await (0, _react2.waitFor)(() => {
      expect(mockGetUserMedia).toHaveBeenCalled();
    });
    unmount();

    // Verify cleanup
    expect(mockGetUserMedia().getTracks()[0].stop).toHaveBeenCalled();
  });
  it('renders the Telemedicine page', () => {
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_Telemedicine.default, {}));
    expect(_react2.screen.getByText('Telemedicine')).toBeInTheDocument();
    expect(_react2.screen.getByText('Welcome to the Telemedicine page.')).toBeInTheDocument();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJqZXN0IiwicmVxdWlyZUFjdHVhbCIsInVzZVNvY2tldCIsInNvY2tldCIsIm9uIiwiZm4iLCJvZmYiLCJlbWl0Iiwiam9pblRlbGVtZWRpY2luZVNlc3Npb24iLCJsZWF2ZVRlbGVtZWRpY2luZVNlc3Npb24iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdCIsIl9yZWFjdDIiLCJfcmVhY3RSb3V0ZXJEb20iLCJfQXV0aENvbnRleHQiLCJfU29ja2V0Q29udGV4dCIsIl9UZWxlbWVkaWNpbmUiLCJfYXhpb3MiLCJfanN4UnVudGltZSIsIm1vY2tHZXRVc2VyTWVkaWEiLCJnZXRUcmFja3MiLCJlbmFibGVkIiwic3RvcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2xvYmFsIiwibmF2aWdhdG9yIiwidmFsdWUiLCJnZXRVc2VyTWVkaWEiLCJSVENQZWVyQ29ubmVjdGlvbiIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsImFkZFRyYWNrIiwiY3JlYXRlT2ZmZXIiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInNkcCIsInNldExvY2FsRGVzY3JpcHRpb24iLCJzZXRSZW1vdGVEZXNjcmlwdGlvbiIsImFkZEljZUNhbmRpZGF0ZSIsImNsb3NlIiwib250cmFjayIsIm9uaWNlY2FuZGlkYXRlIiwiZGVzY3JpYmUiLCJtb2NrU2Vzc2lvbiIsImlkIiwiZG9jdG9ySWQiLCJwYXRpZW50SWQiLCJzY2hlZHVsZWRUaW1lIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3RhdHVzIiwicmVuZGVyQ29tcG9uZW50Iiwicm9sZSIsIm1vY2tVc2VyIiwicmVuZGVyIiwianN4IiwiTWVtb3J5Um91dGVyIiwiaW5pdGlhbEVudHJpZXMiLCJjaGlsZHJlbiIsIkF1dGhQcm92aWRlciIsInVzZXIiLCJoYXNSb2xlIiwiU29ja2V0UHJvdmlkZXIiLCJSb3V0ZXMiLCJSb3V0ZSIsInBhdGgiLCJlbGVtZW50IiwiZGVmYXVsdCIsImJlZm9yZUVhY2giLCJjbGVhckFsbE1vY2tzIiwiYXhpb3MiLCJnZXQiLCJkYXRhIiwiaXQiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRleHQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsIndhaXRGb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInN0YXJ0Q2FsbEJ1dHRvbiIsImZpbmRCeVRleHQiLCJmaXJlRXZlbnQiLCJjbGljayIsInZpZGVvIiwiYXVkaW8iLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiYXVkaW9CdXR0b24iLCJnZXRCeVJvbGUiLCJuYW1lIiwidmlkZW9CdXR0b24iLCJtb2NrUmVqZWN0ZWRWYWx1ZU9uY2UiLCJFcnJvciIsInVubW91bnQiXSwic291cmNlcyI6WyJUZWxlbWVkaWNpbmUudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgTWVtb3J5Um91dGVyLCBSb3V0ZSwgUm91dGVzIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBBdXRoUHJvdmlkZXIgfSBmcm9tICcuLi8uLi9jb250ZXh0L0F1dGhDb250ZXh0JztcbmltcG9ydCB7IFNvY2tldFByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vY29udGV4dC9Tb2NrZXRDb250ZXh0JztcbmltcG9ydCBUZWxlbWVkaWNpbmUgZnJvbSAnLi4vLi4vcGFnZXMvVGVsZW1lZGljaW5lJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbi8vIE1vY2sgdGhlIG1vZHVsZXNcbmplc3QubW9jaygnYXhpb3MnKTtcbmplc3QubW9jaygnLi4vLi4vY29udGV4dC9Tb2NrZXRDb250ZXh0JywgKCkgPT4gKHtcbiAgLi4uamVzdC5yZXF1aXJlQWN0dWFsKCcuLi8uLi9jb250ZXh0L1NvY2tldENvbnRleHQnKSxcbiAgdXNlU29ja2V0OiAoKSA9PiAoe1xuICAgIHNvY2tldDoge1xuICAgICAgb246IGplc3QuZm4oKSxcbiAgICAgIG9mZjogamVzdC5mbigpLFxuICAgICAgZW1pdDogamVzdC5mbigpXG4gICAgfSxcbiAgICBqb2luVGVsZW1lZGljaW5lU2Vzc2lvbjogamVzdC5mbigpLFxuICAgIGxlYXZlVGVsZW1lZGljaW5lU2Vzc2lvbjogamVzdC5mbigpXG4gIH0pXG59KSk7XG5cbi8vIE1vY2sgZ2V0VXNlck1lZGlhXG5jb25zdCBtb2NrR2V0VXNlck1lZGlhID0gamVzdC5mbihhc3luYyAoKSA9PiAoe1xuICBnZXRUcmFja3M6ICgpID0+IFt7XG4gICAgZW5hYmxlZDogdHJ1ZSxcbiAgICBzdG9wOiBqZXN0LmZuKClcbiAgfV1cbn0pKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGdsb2JhbC5uYXZpZ2F0b3IsICdtZWRpYURldmljZXMnLCB7XG4gIHZhbHVlOiB7XG4gICAgZ2V0VXNlck1lZGlhOiBtb2NrR2V0VXNlck1lZGlhXG4gIH1cbn0pO1xuXG4vLyBNb2NrIFJUQ1BlZXJDb25uZWN0aW9uXG5nbG9iYWwuUlRDUGVlckNvbm5lY3Rpb24gPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gIGFkZFRyYWNrOiBqZXN0LmZuKCksXG4gIGNyZWF0ZU9mZmVyOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBzZHA6ICd0ZXN0LXNkcCcgfSksXG4gIHNldExvY2FsRGVzY3JpcHRpb246IGplc3QuZm4oKSxcbiAgc2V0UmVtb3RlRGVzY3JpcHRpb246IGplc3QuZm4oKSxcbiAgYWRkSWNlQ2FuZGlkYXRlOiBqZXN0LmZuKCksXG4gIGNsb3NlOiBqZXN0LmZuKCksXG4gIG9udHJhY2s6IG51bGwsXG4gIG9uaWNlY2FuZGlkYXRlOiBudWxsXG59KSk7XG5cbmRlc2NyaWJlKCdUZWxlbWVkaWNpbmUgQ29tcG9uZW50JywgKCkgPT4ge1xuICBjb25zdCBtb2NrU2Vzc2lvbiA9IHtcbiAgICBpZDogJ3Rlc3Qtc2Vzc2lvbicsXG4gICAgZG9jdG9ySWQ6ICdkb2N0b3ItMScsXG4gICAgcGF0aWVudElkOiAncGF0aWVudC0xJyxcbiAgICBzY2hlZHVsZWRUaW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgc3RhdHVzOiAnc2NoZWR1bGVkJ1xuICB9O1xuXG4gIGNvbnN0IHJlbmRlckNvbXBvbmVudCA9IChyb2xlID0gJ2RvY3RvcicpID0+IHtcbiAgICBjb25zdCBtb2NrVXNlciA9IHtcbiAgICAgIGlkOiAndXNlci0xJyxcbiAgICAgIHJvbGU6IHJvbGVcbiAgICB9O1xuXG4gICAgcmV0dXJuIHJlbmRlcihcbiAgICAgIDxNZW1vcnlSb3V0ZXIgaW5pdGlhbEVudHJpZXM9e1snL3RlbGVtZWRpY2luZS90ZXN0LXNlc3Npb24nXX0+XG4gICAgICAgIDxBdXRoUHJvdmlkZXIgdmFsdWU9e3sgdXNlcjogbW9ja1VzZXIsIGhhc1JvbGU6ICgpID0+IHRydWUgfX0+XG4gICAgICAgICAgPFNvY2tldFByb3ZpZGVyPlxuICAgICAgICAgICAgPFJvdXRlcz5cbiAgICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvdGVsZW1lZGljaW5lLzpzZXNzaW9uSWRcIiBlbGVtZW50PXs8VGVsZW1lZGljaW5lIC8+fSAvPlxuICAgICAgICAgICAgPC9Sb3V0ZXM+XG4gICAgICAgICAgPC9Tb2NrZXRQcm92aWRlcj5cbiAgICAgICAgPC9BdXRoUHJvdmlkZXI+XG4gICAgICA8L01lbW9yeVJvdXRlcj5cbiAgICApO1xuICB9O1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICAgIGF4aW9zLmdldC5tb2NrUmVzb2x2ZWRWYWx1ZSh7IGRhdGE6IG1vY2tTZXNzaW9uIH0pO1xuICB9KTtcblxuICBpdCgncmVuZGVycyBhY2Nlc3MgZGVuaWVkIGZvciB1bmF1dGhvcml6ZWQgdXNlcnMnLCAoKSA9PiB7XG4gICAgY29uc3QgbW9ja1VzZXIgPSB7XG4gICAgICBpZDogJ3VzZXItMScsXG4gICAgICByb2xlOiAnc3RhZmYnXG4gICAgfTtcblxuICAgIHJlbmRlcihcbiAgICAgIDxNZW1vcnlSb3V0ZXI+XG4gICAgICAgIDxBdXRoUHJvdmlkZXIgdmFsdWU9e3sgdXNlcjogbW9ja1VzZXIsIGhhc1JvbGU6ICgpID0+IGZhbHNlIH19PlxuICAgICAgICAgIDxTb2NrZXRQcm92aWRlcj5cbiAgICAgICAgICAgIDxUZWxlbWVkaWNpbmUgLz5cbiAgICAgICAgICA8L1NvY2tldFByb3ZpZGVyPlxuICAgICAgICA8L0F1dGhQcm92aWRlcj5cbiAgICAgIDwvTWVtb3J5Um91dGVyPlxuICAgICk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnQWNjZXNzIERlbmllZCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgnbG9hZHMgYW5kIGRpc3BsYXlzIHRlbGVtZWRpY2luZSBzZXNzaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlckNvbXBvbmVudCgpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoYXhpb3MuZ2V0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2FwaS90ZWxlbWVkaWNpbmUvc2Vzc2lvbnMvdGVzdC1zZXNzaW9uJyk7XG4gICAgfSk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvVGVsZW1lZGljaW5lIFNlc3Npb24vKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgbWVkaWEgc3RyZWFtIGluaXRpYWxpemF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlckNvbXBvbmVudCgpO1xuXG4gICAgY29uc3Qgc3RhcnRDYWxsQnV0dG9uID0gYXdhaXQgc2NyZWVuLmZpbmRCeVRleHQoJ1N0YXJ0IENhbGwnKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soc3RhcnRDYWxsQnV0dG9uKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tHZXRVc2VyTWVkaWEpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgdmlkZW86IHRydWUsXG4gICAgICAgIGF1ZGlvOiB0cnVlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3RvZ2dsZXMgYXVkaW8gYW5kIHZpZGVvJywgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlckNvbXBvbmVudCgpO1xuXG4gICAgLy8gU3RhcnQgdGhlIGNhbGxcbiAgICBjb25zdCBzdGFydENhbGxCdXR0b24gPSBhd2FpdCBzY3JlZW4uZmluZEJ5VGV4dCgnU3RhcnQgQ2FsbCcpO1xuICAgIGZpcmVFdmVudC5jbGljayhzdGFydENhbGxCdXR0b24pO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QobW9ja0dldFVzZXJNZWRpYSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuXG4gICAgLy8gVG9nZ2xlIGF1ZGlvXG4gICAgY29uc3QgYXVkaW9CdXR0b24gPSBzY3JlZW4uZ2V0QnlSb2xlKCdidXR0b24nLCB7IG5hbWU6IC9hdWRpby9pIH0pO1xuICAgIGZpcmVFdmVudC5jbGljayhhdWRpb0J1dHRvbik7XG5cbiAgICAvLyBUb2dnbGUgdmlkZW9cbiAgICBjb25zdCB2aWRlb0J1dHRvbiA9IHNjcmVlbi5nZXRCeVJvbGUoJ2J1dHRvbicsIHsgbmFtZTogL3ZpZGVvL2kgfSk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKHZpZGVvQnV0dG9uKTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgZXJyb3Igc3RhdGVzJywgYXN5bmMgKCkgPT4ge1xuICAgIGF4aW9zLmdldC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBzZXNzaW9uJykpO1xuICAgIHJlbmRlckNvbXBvbmVudCgpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRXJyb3InKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdGYWlsZWQgdG8gbG9hZCBzZXNzaW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdjbGVhbnMgdXAgcmVzb3VyY2VzIG9uIHVubW91bnQnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyB1bm1vdW50IH0gPSByZW5kZXJDb21wb25lbnQoKTtcblxuICAgIC8vIFN0YXJ0IHRoZSBjYWxsXG4gICAgY29uc3Qgc3RhcnRDYWxsQnV0dG9uID0gYXdhaXQgc2NyZWVuLmZpbmRCeVRleHQoJ1N0YXJ0IENhbGwnKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soc3RhcnRDYWxsQnV0dG9uKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KG1vY2tHZXRVc2VyTWVkaWEpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcblxuICAgIHVubW91bnQoKTtcblxuICAgIC8vIFZlcmlmeSBjbGVhbnVwXG4gICAgZXhwZWN0KG1vY2tHZXRVc2VyTWVkaWEoKS5nZXRUcmFja3MoKVswXS5zdG9wKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gIH0pO1xuXG4gIGl0KCdyZW5kZXJzIHRoZSBUZWxlbWVkaWNpbmUgcGFnZScsICgpID0+IHtcbiAgICByZW5kZXIoPFRlbGVtZWRpY2luZSAvPik7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1RlbGVtZWRpY2luZScpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdXZWxjb21lIHRvIHRoZSBUZWxlbWVkaWNpbmUgcGFnZS4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG59KTsgIl0sIm1hcHBpbmdzIjoiOztBQVFBO0FBQ0FBLFdBQUEsR0FBS0MsSUFBSSxDQUFDLE9BQU8sQ0FBQztBQUNsQkQsV0FBQSxHQUFLQyxJQUFJLENBQUMsNkJB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