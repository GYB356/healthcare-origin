{"version":3,"names":["_getJestObj","mock","_interopRequireDefault","require","_react","_react2","_reactRouterDom","_AuthContext","_HIPAADocs","_axios","_jsxRuntime","jest","describe","mockDocuments","id","title","version","content","mockAcknowledgments","documentId","userId","acknowledgedAt","renderComponent","role","mockUser","render","jsx","MemoryRouter","children","AuthProvider","value","user","default","beforeEach","clearAllMocks","axios","get","mockResolvedValueOnce","data","it","waitFor","expect","toHaveBeenCalledWith","screen","getByText","toBeInTheDocument","getAllByText","toHaveLength","fireEvent","click","post","mockRejectedValueOnce","Error","queryByText","not","newAcknowledgment"],"sources":["HIPAADocs.test.js"],"sourcesContent":["import React from 'react';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport { MemoryRouter } from 'react-router-dom';\nimport { AuthProvider } from '../../context/AuthContext';\nimport HIPAADocs from '../../pages/HIPAADocs';\nimport axios from 'axios';\n\n// Mock the modules\njest.mock('axios');\n\ndescribe('HIPAADocs Component', () => {\n  const mockDocuments = [\n    {\n      id: 'doc-1',\n      title: 'Privacy Policy',\n      version: '1.0',\n      content: 'Privacy policy content...'\n    },\n    {\n      id: 'doc-2',\n      title: 'Patient Rights',\n      version: '1.1',\n      content: 'Patient rights content...'\n    }\n  ];\n\n  const mockAcknowledgments = [\n    {\n      id: 'ack-1',\n      documentId: 'doc-1',\n      userId: 'user-1',\n      acknowledgedAt: '2024-03-01T12:00:00Z'\n    }\n  ];\n\n  const renderComponent = (role = 'admin') => {\n    const mockUser = {\n      id: 'user-1',\n      role: role\n    };\n\n    return render(\n      <MemoryRouter>\n        <AuthProvider value={{ user: mockUser }}>\n          <HIPAADocs />\n        </AuthProvider>\n      </MemoryRouter>\n    );\n  };\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n    axios.get\n      .mockResolvedValueOnce({ data: mockDocuments })\n      .mockResolvedValueOnce({ data: mockAcknowledgments });\n  });\n\n  it('loads and displays HIPAA documents', async () => {\n    renderComponent();\n\n    await waitFor(() => {\n      expect(axios.get).toHaveBeenCalledWith('/api/hipaa/documents');\n    });\n\n    expect(screen.getByText('Privacy Policy')).toBeInTheDocument();\n    expect(screen.getByText('Patient Rights')).toBeInTheDocument();\n    expect(screen.getByText('Version 1.0')).toBeInTheDocument();\n    expect(screen.getByText('Version 1.1')).toBeInTheDocument();\n  });\n\n  it('shows acknowledgment status', async () => {\n    renderComponent();\n\n    await waitFor(() => {\n      expect(screen.getByText('Acknowledged')).toBeInTheDocument();\n    });\n  });\n\n  it('allows viewing document content', async () => {\n    renderComponent();\n\n    await waitFor(() => {\n      expect(screen.getAllByText('View Document')).toHaveLength(2);\n    });\n\n    fireEvent.click(screen.getAllByText('View Document')[0]);\n\n    expect(screen.getByText('Privacy policy content...')).toBeInTheDocument();\n  });\n\n  it('allows acknowledging documents', async () => {\n    axios.post.mockResolvedValueOnce({ data: {\n      id: 'ack-2',\n      documentId: 'doc-2',\n      userId: 'user-1',\n      acknowledgedAt: '2024-03-01T13:00:00Z'\n    }});\n\n    renderComponent();\n\n    await waitFor(() => {\n      expect(screen.getAllByText('View Document')).toHaveLength(2);\n    });\n\n    // Open the second document (unacknowledged)\n    fireEvent.click(screen.getAllByText('View Document')[1]);\n\n    // Click acknowledge button\n    fireEvent.click(screen.getByText('Acknowledge'));\n\n    await waitFor(() => {\n      expect(axios.post).toHaveBeenCalledWith('/api/hipaa/acknowledgments', {\n        documentId: 'doc-2',\n        userId: 'user-1'\n      });\n    });\n  });\n\n  it('handles error states', async () => {\n    axios.get.mockRejectedValueOnce(new Error('Failed to load documents'));\n    renderComponent();\n\n    await waitFor(() => {\n      expect(screen.getByText('Failed to load HIPAA documents')).toBeInTheDocument();\n    });\n  });\n\n  it('displays loading state', () => {\n    renderComponent();\n    expect(screen.getByText('Loading HIPAA documents...')).toBeInTheDocument();\n  });\n\n  it('closes document modal', async () => {\n    renderComponent();\n\n    await waitFor(() => {\n      expect(screen.getAllByText('View Document')).toHaveLength(2);\n    });\n\n    fireEvent.click(screen.getAllByText('View Document')[0]);\n    expect(screen.getByText('Privacy policy content...')).toBeInTheDocument();\n\n    fireEvent.click(screen.getByText('Close'));\n    expect(screen.queryByText('Privacy policy content...')).not.toBeInTheDocument();\n  });\n\n  it('handles acknowledgment errors', async () => {\n    axios.post.mockRejectedValueOnce(new Error('Failed to acknowledge document'));\n    renderComponent();\n\n    await waitFor(() => {\n      expect(screen.getAllByText('View Document')).toHaveLength(2);\n    });\n\n    fireEvent.click(screen.getAllByText('View Document')[1]);\n    fireEvent.click(screen.getByText('Acknowledge'));\n\n    await waitFor(() => {\n      expect(screen.getByText('Failed to acknowledge document')).toBeInTheDocument();\n    });\n  });\n\n  it('refreshes acknowledgments after successful acknowledgment', async () => {\n    const newAcknowledgment = {\n      id: 'ack-2',\n      documentId: 'doc-2',\n      userId: 'user-1',\n      acknowledgedAt: '2024-03-01T13:00:00Z'\n    };\n\n    axios.post.mockResolvedValueOnce({ data: newAcknowledgment });\n    axios.get\n      .mockResolvedValueOnce({ data: mockDocuments })\n      .mockResolvedValueOnce({ data: mockAcknowledgments })\n      .mockResolvedValueOnce({ data: [...mockAcknowledgments, newAcknowledgment] });\n\n    renderComponent();\n\n    await waitFor(() => {\n      expect(screen.getAllByText('View Document')).toHaveLength(2);\n    });\n\n    fireEvent.click(screen.getAllByText('View Document')[1]);\n    fireEvent.click(screen.getByText('Acknowledge'));\n\n    await waitFor(() => {\n      expect(axios.get).toHaveBeenCalledWith('/api/hipaa/acknowledgments?userId=user-1');\n      expect(screen.getAllByText('Acknowledged')).toHaveLength(2);\n    });\n  });\n}); "],"mappings":"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","ignoreList":[]}