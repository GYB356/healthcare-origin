{"version":3,"names":["_getJestObj","mock","originalModule","jest","requireActual","useAuth","token","user","role","_interopRequireDefault","require","_react","_react2","_AppointmentReports","_AuthContext","_jestFetchMock","_reactRouterDom","_jsxRuntime","describe","beforeEach","fetchMock","resetMocks","test","render","jsx","AuthProvider","children","BrowserRouter","default","expect","screen","getByText","toBeInTheDocument","mockRejectOnce","Error","waitFor","mockResponseOnce","JSON","stringify","_id","title","date","time","doctor","name","specialty","patient","status","notes"],"sources":["AppointmentReports.test.tsx"],"sourcesContent":["import React from 'react';\nimport { render, screen, waitFor } from '@testing-library/react';\nimport AppointmentReports from '../../pages/AppointmentReports';\nimport { AuthProvider } from '../../context/AuthContext';\nimport fetchMock from 'jest-fetch-mock';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\njest.mock('../../context/AuthContext', () => {\n  const originalModule = jest.requireActual('../../context/AuthContext');\n  return {\n    ...originalModule,\n    useAuth: () => ({\n      token: 'mock-token',\n      user: { role: 'doctor' },\n    }),\n  };\n});\n\ndescribe('AppointmentReports', () => {\n  beforeEach(() => {\n    fetchMock.resetMocks();\n  });\n\n  test('renders loading state initially', () => {\n    render(\n      <AuthProvider>\n        <Router>\n          <AppointmentReports />\n        </Router>\n      </AuthProvider>\n    );\n    expect(screen.getByText(/Loading appointment details.../i)).toBeInTheDocument();\n  });\n\n  test('renders error message when fetching appointment fails', async () => {\n    fetchMock.mockRejectOnce(new Error('Failed to fetch appointment details'));\n\n    render(\n      <AuthProvider>\n        <Router>\n          <AppointmentReports />\n        </Router>\n      </AuthProvider>\n    );\n\n    await waitFor(() => {\n      expect(screen.getByText(/Failed to fetch appointment details/i)).toBeInTheDocument();\n    });\n  });\n\n  test('renders appointment details when fetching succeeds', async () => {\n    fetchMock.mockResponseOnce(JSON.stringify({\n      _id: '123',\n      title: 'Test Appointment',\n      date: '2023-01-01',\n      time: '10:00 AM',\n      doctor: { _id: '1', name: 'Dr. Smith', specialty: 'Cardiology' },\n      patient: { _id: '2', name: 'John Doe' },\n      status: 'completed',\n      notes: 'Test notes'\n    }));\n\n    render(\n      <AuthProvider>\n        <Router>\n          <AppointmentReports />\n        </Router>\n      </AuthProvider>\n    );\n\n    await waitFor(() => {\n      expect(screen.getByText(/Test Appointment/i)).toBeInTheDocument();\n      expect(screen.getByText(/Dr. Smith - Cardiology/i)).toBeInTheDocument();\n      expect(screen.getByText(/John Doe/i)).toBeInTheDocument();\n      expect(screen.getByText(/Test notes/i)).toBeInTheDocument();\n    });\n  });\n\n  test('renders report viewer for completed appointments', async () => {\n    fetchMock.mockResponseOnce(JSON.stringify({\n      _id: '123',\n      title: 'Test Appointment',\n      date: '2023-01-01',\n      time: '10:00 AM',\n      doctor: { _id: '1', name: 'Dr. Smith', specialty: 'Cardiology' },\n      patient: { _id: '2', name: 'John Doe' },\n      status: 'completed',\n      notes: 'Test notes'\n    }));\n\n    render(\n      <AuthProvider>\n        <Router>\n          <AppointmentReports />\n        </Router>\n      </AuthProvider>\n    );\n\n    await waitFor(() => {\n      expect(screen.getByText(/Reports are only available for completed appointments./i)).toBeInTheDocument();\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}