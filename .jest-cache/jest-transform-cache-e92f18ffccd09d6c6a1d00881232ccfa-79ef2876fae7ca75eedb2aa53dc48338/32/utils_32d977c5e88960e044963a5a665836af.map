{"version":3,"names":["debug_1","tslib_1","__importDefault","require","fs_1","errors_1","os_1","path","__importStar","crypto_1","semver","log","default","errorWithCode","err","Error","exports","generateDbName","dbName","getHost","uri","replace","uriTemplate","host","port","query","hosts","isNullOrUndefined","join","val","undefined","assertion","cond","error","AssertionFallbackError","killProcess","childprocess","name","mongodPort","ilog","msg","isAlive","pid","timeoutTime","Promise","res","rej","timeout","setTimeout","enabled","console","warn","kill","once","code","signal","clearTimeout","process","ensureAsync","nextTick","authDefault","opts","_objectSpread","force","enable","customRootName","customRootPwd","extraUsers","keyfileContent","statPath","promises","stat","catch","includes","pathExists","tryReleaseFile","parser","output","readFile","toString","ManagerBase","ManagerAdvanced","checkBinaryPermissions","access","constants","X_OK","InsufficientPermissionsError","BinaryNotFoundError","mkdir","recursive","createTmpDir","prefix","atPath","tmpPath","tmpdir","mkdtemp","removeDir","dirPath","isDirectory","rm","uuidv4","randomUUID","md5","content","createHash","update","digest","md5FromFile","file","lockfilePath","downloadDir","version","resolve","getStorageEngine","storageEngine","coercedVersion","gte"],"sources":["../../src/util/utils.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}