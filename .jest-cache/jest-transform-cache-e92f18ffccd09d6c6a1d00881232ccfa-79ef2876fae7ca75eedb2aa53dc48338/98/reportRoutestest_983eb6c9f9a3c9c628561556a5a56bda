f1124c358c165435f0697410d9d1c104
// Mock the AI utils
_getJestObj().mock('../utils/aiUtils', () => ({
  generateMedicalReport: jest.fn().mockResolvedValue('Test medical report content'),
  extractMedicalInfo: jest.fn().mockResolvedValue({
    symptoms: ['Headache', 'Fever'],
    diagnosis: 'Common cold',
    recommendations: ['Rest', 'Fluids'],
    medications: ['Paracetamol'],
    followUpNeeded: false
  }),
  generateFollowUpQuestions: jest.fn().mockResolvedValue('Follow up questions')
}));

// Create a test user and get auth token
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
const request = require('supertest');
const mongoose = require('mongoose');
const {
  MongoMemoryServer
} = require('mongodb-memory-server');
const app = require('../server');
const Report = require('../models/Report');
const User = require('../models/User');
let mongoServer;
const getAuthToken = async () => {
  const testUser = await User.create({
    name: 'Test Doctor',
    email: 'testdoctor@example.com',
    password: 'password123',
    role: 'doctor'
  });
  const response = await request(app).post('/api/users/login').send({
    email: 'testdoctor@example.com',
    password: 'password123'
  });
  return response.body.token;
};
beforeAll(async () => {
  mongoServer = await MongoMemoryServer.create();
  await mongoose.connect(mongoServer.getUri());
});
afterAll(async () => {
  await mongoose.disconnect();
  await mongoServer.stop();
});
describe('Report Routes', () => {
  let token, appointmentId;
  beforeAll(async () => {
    token = await getAuthToken();

    // Create a test appointment
    const appointmentResponse = await request(app).post('/api/appointments').set('Authorization', `Bearer ${token}`).send({
      patientName: 'Test Patient',
      date: new Date().toISOString(),
      reason: 'Test appointment'
    });
    appointmentId = appointmentResponse.body._id;
  });
  beforeEach(async () => {
    await Report.deleteMany({});
  });
  test('Should generate a new report', async () => {
    const response = await request(app).post('/api/reports').set('Authorization', `Bearer ${token}`).send({
      appointmentId,
      transcript: 'This is a test transcript'
    });
    expect(response.statusCode).toBe(200);
    expect(response.body).toHaveProperty('report');
    expect(response.body.report).toHaveProperty('_id');
    expect(response.body.report.report).toBe('Test medical report content');
  });
  test('Should fail with bad request if transcript is missing', async () => {
    const response = await request(app).post('/api/reports').set('Authorization', `Bearer ${token}`).send({
      appointmentId
    });
    expect(response.statusCode).toBe(400);
    expect(response.body).toHaveProperty('message', 'Appointment ID and transcript required');
  });
  test('Should fetch reports for an appointment', async () => {
    // First create a report
    await request(app).post('/api/reports').set('Authorization', `Bearer ${token}`).send({
      appointmentId,
      transcript: 'This is a test transcript'
    });

    // Then fetch reports for the appointment
    const response = await request(app).get(`/api/reports/${appointmentId}`).set('Authorization', `Bearer ${token}`);
    expect(response.statusCode).toBe(200);
    expect(Array.isArray(response.body)).toBe(true);
    expect(response.body.length).toBe(1);
    expect(response.body[0].appointmentId).toBe(appointmentId);
  });
  test('Should fetch a specific report by ID', async () => {
    // First create a report
    const createResponse = await request(app).post('/api/reports').set('Authorization', `Bearer ${token}`).send({
      appointmentId,
      transcript: 'This is a test transcript'
    });
    const reportId = createResponse.body.report._id;

    // Then fetch the specific report
    const response = await request(app).get(`/api/reports/detail/${reportId}`).set('Authorization', `Bearer ${token}`);
    expect(response.statusCode).toBe(200);
    expect(response.body).toHaveProperty('_id', reportId);
  });
  test('Should handle report generation failure', async () => {
    _getJestObj().mock('../utils/aiUtils', () => ({
      generateMedicalReport: jest.fn().mockRejectedValue(new Error('AI service failed')),
      extractMedicalInfo: jest.fn().mockResolvedValue({
        symptoms: ['Headache', 'Fever'],
        diagnosis: 'Common cold',
        recommendations: ['Rest', 'Fluids'],
        medications: ['Paracetamol'],
        followUpNeeded: false
      }),
      generateFollowUpQuestions: jest.fn().mockResolvedValue('Follow up questions')
    }));
    const response = await request(app).post('/api/reports').set('Authorization', `Bearer ${token}`).send({
      appointmentId,
      transcript: 'This is a test transcript'
    });
    expect(response.statusCode).toBe(500);
    expect(response.body).toHaveProperty('message', 'Server error');
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJnZW5lcmF0ZU1lZGljYWxSZXBvcnQiLCJqZXN0IiwiZm4iLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImV4dHJhY3RNZWRpY2FsSW5mbyIsInN5bXB0b21zIiwiZGlhZ25vc2lzIiwicmVjb21tZW5kYXRpb25zIiwibWVkaWNhdGlvbnMiLCJmb2xsb3dVcE5lZWRlZCIsImdlbmVyYXRlRm9sbG93VXBRdWVzdGlvbnMiLCJyZXF1aXJlIiwicmVxdWVzdCIsIm1vbmdvb3NlIiwiTW9uZ29NZW1vcnlTZXJ2ZXIiLCJhcHAiLCJSZXBvcnQiLCJVc2VyIiwibW9uZ29TZXJ2ZXIiLCJnZXRBdXRoVG9rZW4iLCJ0ZXN0VXNlciIsImNyZWF0ZSIsIm5hbWUiLCJlbWFpbCIsInBhc3N3b3JkIiwicm9sZSIsInJlc3BvbnNlIiwicG9zdCIsInNlbmQiLCJib2R5IiwidG9rZW4iLCJiZWZvcmVBbGwiLCJjb25uZWN0IiwiZ2V0VXJpIiwiYWZ0ZXJBbGwiLCJkaXNjb25uZWN0Iiwic3RvcCIsImRlc2NyaWJlIiwiYXBwb2ludG1lbnRJZCIsImFwcG9pbnRtZW50UmVzcG9uc2UiLCJzZXQiLCJwYXRpZW50TmFtZSIsImRhdGUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJyZWFzb24iLCJfaWQiLCJiZWZvcmVFYWNoIiwiZGVsZXRlTWFueSIsInRlc3QiLCJ0cmFuc2NyaXB0IiwiZXhwZWN0Iiwic3RhdHVzQ29kZSIsInRvQmUiLCJ0b0hhdmVQcm9wZXJ0eSIsInJlcG9ydCIsImdldCIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsImNyZWF0ZVJlc3BvbnNlIiwicmVwb3J0SWQiLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIl0sInNvdXJjZXMiOlsicmVwb3J0Um91dGVzLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgcmVxdWVzdCA9IHJlcXVpcmUoJ3N1cGVydGVzdCcpO1xuY29uc3QgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xuY29uc3QgeyBNb25nb01lbW9yeVNlcnZlciB9ID0gcmVxdWlyZSgnbW9uZ29kYi1tZW1vcnktc2VydmVyJyk7XG5jb25zdCBhcHAgPSByZXF1aXJlKCcuLi9zZXJ2ZXInKTtcbmNvbnN0IFJlcG9ydCA9IHJlcXVpcmUoJy4uL21vZGVscy9SZXBvcnQnKTtcbmNvbnN0IFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvVXNlcicpO1xuXG5sZXQgbW9uZ29TZXJ2ZXI7XG5cbi8vIE1vY2sgdGhlIEFJIHV0aWxzXG5qZXN0Lm1vY2soJy4uL3V0aWxzL2FpVXRpbHMnLCAoKSA9PiAoe1xuICBnZW5lcmF0ZU1lZGljYWxSZXBvcnQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgnVGVzdCBtZWRpY2FsIHJlcG9ydCBjb250ZW50JyksXG4gIGV4dHJhY3RNZWRpY2FsSW5mbzogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICBzeW1wdG9tczogWydIZWFkYWNoZScsICdGZXZlciddLFxuICAgIGRpYWdub3NpczogJ0NvbW1vbiBjb2xkJyxcbiAgICByZWNvbW1lbmRhdGlvbnM6IFsnUmVzdCcsICdGbHVpZHMnXSxcbiAgICBtZWRpY2F0aW9uczogWydQYXJhY2V0YW1vbCddLFxuICAgIGZvbGxvd1VwTmVlZGVkOiBmYWxzZVxuICB9KSxcbiAgZ2VuZXJhdGVGb2xsb3dVcFF1ZXN0aW9uczogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKCdGb2xsb3cgdXAgcXVlc3Rpb25zJylcbn0pKTtcblxuLy8gQ3JlYXRlIGEgdGVzdCB1c2VyIGFuZCBnZXQgYXV0aCB0b2tlblxuY29uc3QgZ2V0QXV0aFRva2VuID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCB0ZXN0VXNlciA9IGF3YWl0IFVzZXIuY3JlYXRlKHtcbiAgICBuYW1lOiAnVGVzdCBEb2N0b3InLFxuICAgIGVtYWlsOiAndGVzdGRvY3RvckBleGFtcGxlLmNvbScsXG4gICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMycsXG4gICAgcm9sZTogJ2RvY3RvcidcbiAgfSk7XG4gIFxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgIC5wb3N0KCcvYXBpL3VzZXJzL2xvZ2luJylcbiAgICAuc2VuZCh7XG4gICAgICBlbWFpbDogJ3Rlc3Rkb2N0b3JAZXhhbXBsZS5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICdwYXNzd29yZDEyMydcbiAgICB9KTtcbiAgXG4gIHJldHVybiByZXNwb25zZS5ib2R5LnRva2VuO1xufTtcblxuYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcbiAgbW9uZ29TZXJ2ZXIgPSBhd2FpdCBNb25nb01lbW9yeVNlcnZlci5jcmVhdGUoKTtcbiAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdChtb25nb1NlcnZlci5nZXRVcmkoKSk7XG59KTtcblxuYWZ0ZXJBbGwoYXN5bmMgKCkgPT4ge1xuICBhd2FpdCBtb25nb29zZS5kaXNjb25uZWN0KCk7XG4gIGF3YWl0IG1vbmdvU2VydmVyLnN0b3AoKTtcbn0pO1xuXG5kZXNjcmliZSgnUmVwb3J0IFJvdXRlcycsICgpID0+IHtcbiAgbGV0IHRva2VuLCBhcHBvaW50bWVudElkO1xuICBcbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcbiAgICB0b2tlbiA9IGF3YWl0IGdldEF1dGhUb2tlbigpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBhIHRlc3QgYXBwb2ludG1lbnRcbiAgICBjb25zdCBhcHBvaW50bWVudFJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAucG9zdCgnL2FwaS9hcHBvaW50bWVudHMnKVxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKVxuICAgICAgLnNlbmQoe1xuICAgICAgICBwYXRpZW50TmFtZTogJ1Rlc3QgUGF0aWVudCcsXG4gICAgICAgIGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgcmVhc29uOiAnVGVzdCBhcHBvaW50bWVudCdcbiAgICAgIH0pO1xuICAgIFxuICAgIGFwcG9pbnRtZW50SWQgPSBhcHBvaW50bWVudFJlc3BvbnNlLmJvZHkuX2lkO1xuICB9KTtcbiAgXG4gIGJlZm9yZUVhY2goYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IFJlcG9ydC5kZWxldGVNYW55KHt9KTtcbiAgfSk7XG4gIFxuICB0ZXN0KCdTaG91bGQgZ2VuZXJhdGUgYSBuZXcgcmVwb3J0JywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAucG9zdCgnL2FwaS9yZXBvcnRzJylcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YClcbiAgICAgIC5zZW5kKHtcbiAgICAgICAgYXBwb2ludG1lbnRJZCxcbiAgICAgICAgdHJhbnNjcmlwdDogJ1RoaXMgaXMgYSB0ZXN0IHRyYW5zY3JpcHQnXG4gICAgICB9KTtcbiAgICBcbiAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzQ29kZSkudG9CZSgyMDApO1xuICAgIGV4cGVjdChyZXNwb25zZS5ib2R5KS50b0hhdmVQcm9wZXJ0eSgncmVwb3J0Jyk7XG4gICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkucmVwb3J0KS50b0hhdmVQcm9wZXJ0eSgnX2lkJyk7XG4gICAgZXhwZWN0KHJlc3BvbnNlLmJvZHkucmVwb3J0LnJlcG9ydCkudG9CZSgnVGVzdCBtZWRpY2FsIHJlcG9ydCBjb250ZW50Jyk7XG4gIH0pO1xuICBcbiAgdGVzdCgnU2hvdWxkIGZhaWwgd2l0aCBiYWQgcmVxdWVzdCBpZiB0cmFuc2NyaXB0IGlzIG1pc3NpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgIC5wb3N0KCcvYXBpL3JlcG9ydHMnKVxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKVxuICAgICAgLnNlbmQoe1xuICAgICAgICBhcHBvaW50bWVudElkXG4gICAgICB9KTtcbiAgICBcbiAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzQ29kZSkudG9CZSg0MDApO1xuICAgIGV4cGVjdChyZXNwb25zZS5ib2R5KS50b0hhdmVQcm9wZXJ0eSgnbWVzc2FnZScsICdBcHBvaW50bWVudCBJRCBhbmQgdHJhbnNjcmlwdCByZXF1aXJlZCcpO1xuICB9KTtcbiAgXG4gIHRlc3QoJ1Nob3VsZCBmZXRjaCByZXBvcnRzIGZvciBhbiBhcHBvaW50bWVudCcsIGFzeW5jICgpID0+IHtcbiAgICAvLyBGaXJzdCBjcmVhdGUgYSByZXBvcnRcbiAgICBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgIC5wb3N0KCcvYXBpL3JlcG9ydHMnKVxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKVxuICAgICAgLnNlbmQoe1xuICAgICAgICBhcHBvaW50bWVudElkLFxuICAgICAgICB0cmFuc2NyaXB0OiAnVGhpcyBpcyBhIHRlc3QgdHJhbnNjcmlwdCdcbiAgICAgIH0pO1xuICAgIFxuICAgIC8vIFRoZW4gZmV0Y2ggcmVwb3J0cyBmb3IgdGhlIGFwcG9pbnRtZW50XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgIC5nZXQoYC9hcGkvcmVwb3J0cy8ke2FwcG9pbnRtZW50SWR9YClcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YCk7XG4gICAgXG4gICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1c0NvZGUpLnRvQmUoMjAwKTtcbiAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXNwb25zZS5ib2R5KSkudG9CZSh0cnVlKTtcbiAgICBleHBlY3QocmVzcG9uc2UuYm9keS5sZW5ndGgpLnRvQmUoMSk7XG4gICAgZXhwZWN0KHJlc3BvbnNlLmJvZHlbMF0uYXBwb2ludG1lbnRJZCkudG9CZShhcHBvaW50bWVudElkKTtcbiAgfSk7XG4gIFxuICB0ZXN0KCdTaG91bGQgZmV0Y2ggYSBzcGVjaWZpYyByZXBvcnQgYnkgSUQnLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gRmlyc3QgY3JlYXRlIGEgcmVwb3J0XG4gICAgY29uc3QgY3JlYXRlUmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0KGFwcClcbiAgICAgIC5wb3N0KCcvYXBpL3JlcG9ydHMnKVxuICAgICAgLnNldCgnQXV0aG9yaXphdGlvbicsIGBCZWFyZXIgJHt0b2tlbn1gKVxuICAgICAgLnNlbmQoe1xuICAgICAgICBhcHBvaW50bWVudElkLFxuICAgICAgICB0cmFuc2NyaXB0OiAnVGhpcyBpcyBhIHRlc3QgdHJhbnNjcmlwdCdcbiAgICAgIH0pO1xuICAgIFxuICAgIGNvbnN0IHJlcG9ydElkID0gY3JlYXRlUmVzcG9uc2UuYm9keS5yZXBvcnQuX2lkO1xuICAgIFxuICAgIC8vIFRoZW4gZmV0Y2ggdGhlIHNwZWNpZmljIHJlcG9ydFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdChhcHApXG4gICAgICAuZ2V0KGAvYXBpL3JlcG9ydHMvZGV0YWlsLyR7cmVwb3J0SWR9YClcbiAgICAgIC5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmVhcmVyICR7dG9rZW59YCk7XG4gICAgXG4gICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1c0NvZGUpLnRvQmUoMjAwKTtcbiAgICBleHBlY3QocmVzcG9uc2UuYm9keSkudG9IYXZlUHJvcGVydHkoJ19pZCcsIHJlcG9ydElkKTtcbiAgfSk7XG5cbiAgdGVzdCgnU2hvdWxkIGhhbmRsZSByZXBvcnQgZ2VuZXJhdGlvbiBmYWlsdXJlJywgYXN5bmMgKCkgPT4ge1xuICAgIGplc3QubW9jaygnLi4vdXRpbHMvYWlVdGlscycsICgpID0+ICh7XG4gICAgICBnZW5lcmF0ZU1lZGljYWxSZXBvcnQ6IGplc3QuZm4oKS5tb2NrUmVqZWN0ZWRWYWx1ZShuZXcgRXJyb3IoJ0FJIHNlcnZpY2UgZmFpbGVkJykpLFxuICAgICAgZXh0cmFjdE1lZGljYWxJbmZvOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBzeW1wdG9tczogWydIZWFkYWNoZScsICdGZXZlciddLFxuICAgICAgICBkaWFnbm9zaXM6ICdDb21tb24gY29sZCcsXG4gICAgICAgIHJlY29tbWVuZGF0aW9uczogWydSZXN0JywgJ0ZsdWlkcyddLFxuICAgICAgICBtZWRpY2F0aW9uczogWydQYXJhY2V0YW1vbCddLFxuICAgICAgICBmb2xsb3dVcE5lZWRlZDogZmFsc2VcbiAgICAgIH0pLFxuICAgICAgZ2VuZXJhdGVGb2xsb3dVcFF1ZXN0aW9uczogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKCdGb2xsb3cgdXAgcXVlc3Rpb25zJylcbiAgICB9KSk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QoYXBwKVxuICAgICAgLnBvc3QoJy9hcGkvcmVwb3J0cycpXG4gICAgICAuc2V0KCdBdXRob3JpemF0aW9uJywgYEJlYXJlciAke3Rva2VufWApXG4gICAgICAuc2VuZCh7XG4gICAgICAgIGFwcG9pbnRtZW50SWQsXG4gICAgICAgIHRyYW5zY3JpcHQ6ICdUaGlzIGlzIGEgdGVzdCB0cmFuc2NyaXB0J1xuICAgICAgfSk7XG5cbiAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzQ29kZSkudG9CZSg1MDApO1xuICAgIGV4cGVjdChyZXNwb25zZS5ib2R5KS50b0hhdmVQcm9wZXJ0eSgnbWVzc2FnZScsICdTZXJ2ZXIgZXJyb3InKTtcbiAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBU0E7QUFDQUEsV0FBQSxHQUFLQyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsT0FBTztFQUNuQ0MscUJBQXFCLEVBQUVDLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUMsQ0FBQ0MsaUJBQWlCLENBQUMsNkJBQTZCLENBQUM7RUFDakZDLGtCQUFrQixFQUFFSCxJQUFJLENBQUNDLEVBQUUsQ0FBQyxDQUFDLENBQUNDLGlCQUFpQixDQUFDO0lBQzlDRSxRQUFRLEVBQUUsQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFD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