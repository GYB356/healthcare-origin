d9a68eb584df59b1af7f0de837369bf6
"use strict";

// Mock the modules
_getJestObj().mock('axios');
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _react = _interopRequireDefault(require("react"));
var _react2 = require("@testing-library/react");
var _reactRouterDom = require("react-router-dom");
var _AuthContext = require("../../context/AuthContext");
var _HIPAADocs = _interopRequireDefault(require("../../pages/HIPAADocs"));
var _axios = _interopRequireDefault(require("axios"));
var _jsxRuntime = require("react/jsx-runtime");
var _jsxFileName = "C:\\Users\\olari\\Downloads\\healthcare-main\\healthcare-main\\HealthcareSync\\frontend\\src\\components\\__tests__\\HIPAADocs.test.js";
import React from "react";
var __jsx = React.createElement;
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
describe('HIPAADocs Component', () => {
  const mockDocuments = [{
    id: 'doc-1',
    title: 'Privacy Policy',
    version: '1.0',
    content: 'Privacy policy content...'
  }, {
    id: 'doc-2',
    title: 'Patient Rights',
    version: '1.1',
    content: 'Patient rights content...'
  }];
  const mockAcknowledgments = [{
    id: 'ack-1',
    documentId: 'doc-1',
    userId: 'user-1',
    acknowledgedAt: '2024-03-01T12:00:00Z'
  }];
  const renderComponent = (role = 'admin') => {
    const mockUser = {
      id: 'user-1',
      role: role
    };
    return (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_reactRouterDom.MemoryRouter, {
      children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_AuthContext.AuthProvider, {
        value: {
          user: mockUser
        },
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_HIPAADocs.default, {})
      })
    }));
  };
  beforeEach(() => {
    jest.clearAllMocks();
    _axios.default.get.mockResolvedValueOnce({
      data: mockDocuments
    }).mockResolvedValueOnce({
      data: mockAcknowledgments
    });
  });
  it('loads and displays HIPAA documents', async () => {
    renderComponent();
    await (0, _react2.waitFor)(() => {
      expect(_axios.default.get).toHaveBeenCalledWith('/api/hipaa/documents');
    });
    expect(_react2.screen.getByText('Privacy Policy')).toBeInTheDocument();
    expect(_react2.screen.getByText('Patient Rights')).toBeInTheDocument();
    expect(_react2.screen.getByText('Version 1.0')).toBeInTheDocument();
    expect(_react2.screen.getByText('Version 1.1')).toBeInTheDocument();
  });
  it('shows acknowledgment status', async () => {
    renderComponent();
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Acknowledged')).toBeInTheDocument();
    });
  });
  it('allows viewing document content', async () => {
    renderComponent();
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getAllByText('View Document')).toHaveLength(2);
    });
    _react2.fireEvent.click(_react2.screen.getAllByText('View Document')[0]);
    expect(_react2.screen.getByText('Privacy policy content...')).toBeInTheDocument();
  });
  it('allows acknowledging documents', async () => {
    _axios.default.post.mockResolvedValueOnce({
      data: {
        id: 'ack-2',
        documentId: 'doc-2',
        userId: 'user-1',
        acknowledgedAt: '2024-03-01T13:00:00Z'
      }
    });
    renderComponent();
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getAllByText('View Document')).toHaveLength(2);
    });

    // Open the second document (unacknowledged)
    _react2.fireEvent.click(_react2.screen.getAllByText('View Document')[1]);

    // Click acknowledge button
    _react2.fireEvent.click(_react2.screen.getByText('Acknowledge'));
    await (0, _react2.waitFor)(() => {
      expect(_axios.default.post).toHaveBeenCalledWith('/api/hipaa/acknowledgments', {
        documentId: 'doc-2',
        userId: 'user-1'
      });
    });
  });
  it('handles error states', async () => {
    _axios.default.get.mockRejectedValueOnce(new Error('Failed to load documents'));
    renderComponent();
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Failed to load HIPAA documents')).toBeInTheDocument();
    });
  });
  it('displays loading state', () => {
    renderComponent();
    expect(_react2.screen.getByText('Loading HIPAA documents...')).toBeInTheDocument();
  });
  it('closes document modal', async () => {
    renderComponent();
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getAllByText('View Document')).toHaveLength(2);
    });
    _react2.fireEvent.click(_react2.screen.getAllByText('View Document')[0]);
    expect(_react2.screen.getByText('Privacy policy content...')).toBeInTheDocument();
    _react2.fireEvent.click(_react2.screen.getByText('Close'));
    expect(_react2.screen.queryByText('Privacy policy content...')).not.toBeInTheDocument();
  });
  it('handles acknowledgment errors', async () => {
    _axios.default.post.mockRejectedValueOnce(new Error('Failed to acknowledge document'));
    renderComponent();
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getAllByText('View Document')).toHaveLength(2);
    });
    _react2.fireEvent.click(_react2.screen.getAllByText('View Document')[1]);
    _react2.fireEvent.click(_react2.screen.getByText('Acknowledge'));
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Failed to acknowledge document')).toBeInTheDocument();
    });
  });
  it('refreshes acknowledgments after successful acknowledgment', async () => {
    const newAcknowledgment = {
      id: 'ack-2',
      documentId: 'doc-2',
      userId: 'user-1',
      acknowledgedAt: '2024-03-01T13:00:00Z'
    };
    _axios.default.post.mockResolvedValueOnce({
      data: newAcknowledgment
    });
    _axios.default.get.mockResolvedValueOnce({
      data: mockDocuments
    }).mockResolvedValueOnce({
      data: mockAcknowledgments
    }).mockResolvedValueOnce({
      data: [...mockAcknowledgments, newAcknowledgment]
    });
    renderComponent();
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getAllByText('View Document')).toHaveLength(2);
    });
    _react2.fireEvent.click(_react2.screen.getAllByText('View Document')[1]);
    _react2.fireEvent.click(_react2.screen.getByText('Acknowledge'));
    await (0, _react2.waitFor)(() => {
      expect(_axios.default.get).toHaveBeenCalledWith('/api/hipaa/acknowledgments?userId=user-1');
      expect(_react2.screen.getAllByText('Acknowledged')).toHaveLength(2);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZWFjdCIsIl9yZWFjdDIiLCJfcmVhY3RSb3V0ZXJEb20iLCJfQXV0aENvbnRleHQiLCJfSElQQUFEb2NzIiwiX2F4aW9zIiwiX2pzeFJ1bnRpbWUiLCJfanN4RmlsZU5hbWUiLCJSZWFjdCIsIl9fanN4IiwiY3JlYXRlRWxlbWVudCIsImplc3QiLCJkZXNjcmliZSIsIm1vY2tEb2N1bWVudHMiLCJpZCIsInRpdGxlIiwidmVyc2lvbiIsImNvbnRlbnQiLCJtb2NrQWNrbm93bGVkZ21lbnRzIiwiZG9jdW1lbnRJZCIsInVzZXJJZCIsImFja25vd2xlZGdlZEF0IiwicmVuZGVyQ29tcG9uZW50Iiwicm9sZSIsIm1vY2tVc2VyIiwicmVuZGVyIiwianN4IiwiTWVtb3J5Um91dGVyIiwiY2hpbGRyZW4iLCJBdXRoUHJvdmlkZXIiLCJ2YWx1ZSIsInVzZXIiLCJkZWZhdWx0IiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJheGlvcyIsImdldCIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsImRhdGEiLCJpdCIsIndhaXRGb3IiLCJleHBlY3QiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInNjcmVlbiIsImdldEJ5VGV4dCIsInRvQmVJblRoZURvY3VtZW50IiwiZ2V0QWxsQnlUZXh0IiwidG9IYXZlTGVuZ3RoIiwiZmlyZUV2ZW50IiwiY2xpY2siLCJwb3N0IiwibW9ja1JlamVjdGVkVmFsdWVPbmNlIiwiRXJyb3IiLCJxdWVyeUJ5VGV4dCIsIm5vdCIsIm5ld0Fja25vd2xlZGdtZW50Il0sInNvdXJjZXMiOlsiSElQQUFEb2NzLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IE1lbW9yeVJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHsgQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vY29udGV4dC9BdXRoQ29udGV4dCc7XG5pbXBvcnQgSElQQUFEb2NzIGZyb20gJy4uLy4uL3BhZ2VzL0hJUEFBRG9jcyc7XG5pbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG4vLyBNb2NrIHRoZSBtb2R1bGVzXG5qZXN0Lm1vY2soJ2F4aW9zJyk7XG5cbmRlc2NyaWJlKCdISVBBQURvY3MgQ29tcG9uZW50JywgKCkgPT4ge1xuICBjb25zdCBtb2NrRG9jdW1lbnRzID0gW1xuICAgIHtcbiAgICAgIGlkOiAnZG9jLTEnLFxuICAgICAgdGl0bGU6ICdQcml2YWN5IFBvbGljeScsXG4gICAgICB2ZXJzaW9uOiAnMS4wJyxcbiAgICAgIGNvbnRlbnQ6ICdQcml2YWN5IHBvbGljeSBjb250ZW50Li4uJ1xuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdkb2MtMicsXG4gICAgICB0aXRsZTogJ1BhdGllbnQgUmlnaHRzJyxcbiAgICAgIHZlcnNpb246ICcxLjEnLFxuICAgICAgY29udGVudDogJ1BhdGllbnQgcmlnaHRzIGNvbnRlbnQuLi4nXG4gICAgfVxuICBdO1xuXG4gIGNvbnN0IG1vY2tBY2tub3dsZWRnbWVudHMgPSBbXG4gICAge1xuICAgICAgaWQ6ICdhY2stMScsXG4gICAgICBkb2N1bWVudElkOiAnZG9jLTEnLFxuICAgICAgdXNlcklkOiAndXNlci0xJyxcbiAgICAgIGFja25vd2xlZGdlZEF0OiAnMjAyNC0wMy0wMVQxMjowMDowMFonXG4gICAgfVxuICBdO1xuXG4gIGNvbnN0IHJlbmRlckNvbXBvbmVudCA9IChyb2xlID0gJ2FkbWluJykgPT4ge1xuICAgIGNvbnN0IG1vY2tVc2VyID0ge1xuICAgICAgaWQ6ICd1c2VyLTEnLFxuICAgICAgcm9sZTogcm9sZVxuICAgIH07XG5cbiAgICByZXR1cm4gcmVuZGVyKFxuICAgICAgPE1lbW9yeVJvdXRlcj5cbiAgICAgICAgPEF1dGhQcm92aWRlciB2YWx1ZT17eyB1c2VyOiBtb2NrVXNlciB9fT5cbiAgICAgICAgICA8SElQQUFEb2NzIC8+XG4gICAgICAgIDwvQXV0aFByb3ZpZGVyPlxuICAgICAgPC9NZW1vcnlSb3V0ZXI+XG4gICAgKTtcbiAgfTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBheGlvcy5nZXRcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoeyBkYXRhOiBtb2NrRG9jdW1lbnRzIH0pXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHsgZGF0YTogbW9ja0Fja25vd2xlZGdtZW50cyB9KTtcbiAgfSk7XG5cbiAgaXQoJ2xvYWRzIGFuZCBkaXNwbGF5cyBISVBBQSBkb2N1bWVudHMnLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyQ29tcG9uZW50KCk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChheGlvcy5nZXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL2hpcGFhL2RvY3VtZW50cycpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1ByaXZhY3kgUG9saWN5JykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1BhdGllbnQgUmlnaHRzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1ZlcnNpb24gMS4wJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1ZlcnNpb24gMS4xJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdzaG93cyBhY2tub3dsZWRnbWVudCBzdGF0dXMnLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyQ29tcG9uZW50KCk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdBY2tub3dsZWRnZWQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ2FsbG93cyB2aWV3aW5nIGRvY3VtZW50IGNvbnRlbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyQ29tcG9uZW50KCk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QWxsQnlUZXh0KCdWaWV3IERvY3VtZW50JykpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICB9KTtcblxuICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QWxsQnlUZXh0KCdWaWV3IERvY3VtZW50JylbMF0pO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1ByaXZhY3kgcG9saWN5IGNvbnRlbnQuLi4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2FsbG93cyBhY2tub3dsZWRnaW5nIGRvY3VtZW50cycsIGFzeW5jICgpID0+IHtcbiAgICBheGlvcy5wb3N0Lm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGRhdGE6IHtcbiAgICAgIGlkOiAnYWNrLTInLFxuICAgICAgZG9jdW1lbnRJZDogJ2RvYy0yJyxcbiAgICAgIHVzZXJJZDogJ3VzZXItMScsXG4gICAgICBhY2tub3dsZWRnZWRBdDogJzIwMjQtMDMtMDFUMTM6MDA6MDBaJ1xuICAgIH19KTtcblxuICAgIHJlbmRlckNvbXBvbmVudCgpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEFsbEJ5VGV4dCgnVmlldyBEb2N1bWVudCcpKS50b0hhdmVMZW5ndGgoMik7XG4gICAgfSk7XG5cbiAgICAvLyBPcGVuIHRoZSBzZWNvbmQgZG9jdW1lbnQgKHVuYWNrbm93bGVkZ2VkKVxuICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QWxsQnlUZXh0KCdWaWV3IERvY3VtZW50JylbMV0pO1xuXG4gICAgLy8gQ2xpY2sgYWNrbm93bGVkZ2UgYnV0dG9uXG4gICAgZmlyZUV2ZW50LmNsaWNrKHNjcmVlbi5nZXRCeVRleHQoJ0Fja25vd2xlZGdlJykpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3QoYXhpb3MucG9zdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9hcGkvaGlwYWEvYWNrbm93bGVkZ21lbnRzJywge1xuICAgICAgICBkb2N1bWVudElkOiAnZG9jLTInLFxuICAgICAgICB1c2VySWQ6ICd1c2VyLTEnXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgZXJyb3Igc3RhdGVzJywgYXN5bmMgKCkgPT4ge1xuICAgIGF4aW9zLmdldC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBkb2N1bWVudHMnKSk7XG4gICAgcmVuZGVyQ29tcG9uZW50KCk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdGYWlsZWQgdG8gbG9hZCBISVBBQSBkb2N1bWVudHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ2Rpc3BsYXlzIGxvYWRpbmcgc3RhdGUnLCAoKSA9PiB7XG4gICAgcmVuZGVyQ29tcG9uZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0xvYWRpbmcgSElQQUEgZG9jdW1lbnRzLi4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdjbG9zZXMgZG9jdW1lbnQgbW9kYWwnLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyQ29tcG9uZW50KCk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QWxsQnlUZXh0KCdWaWV3IERvY3VtZW50JykpLnRvSGF2ZUxlbmd0aCgyKTtcbiAgICB9KTtcblxuICAgIGZpcmVFdmVudC5jbGljayhzY3JlZW4uZ2V0QWxsQnlUZXh0KCdWaWV3IERvY3VtZW50JylbMF0pO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdQcml2YWN5IHBvbGljeSBjb250ZW50Li4uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG5cbiAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnQ2xvc2UnKSk7XG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnUHJpdmFjeSBwb2xpY3kgY29udGVudC4uLicpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2hhbmRsZXMgYWNrbm93bGVkZ21lbnQgZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgIGF4aW9zLnBvc3QubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignRmFpbGVkIHRvIGFja25vd2xlZGdlIGRvY3VtZW50JykpO1xuICAgIHJlbmRlckNvbXBvbmVudCgpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEFsbEJ5VGV4dCgnVmlldyBEb2N1bWVudCcpKS50b0hhdmVMZW5ndGgoMik7XG4gICAgfSk7XG5cbiAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEFsbEJ5VGV4dCgnVmlldyBEb2N1bWVudCcpWzFdKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnQWNrbm93bGVkZ2UnKSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdGYWlsZWQgdG8gYWNrbm93bGVkZ2UgZG9jdW1lbnQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3JlZnJlc2hlcyBhY2tub3dsZWRnbWVudHMgYWZ0ZXIgc3VjY2Vzc2Z1bCBhY2tub3dsZWRnbWVudCcsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBuZXdBY2tub3dsZWRnbWVudCA9IHtcbiAgICAgIGlkOiAnYWNrLTInLFxuICAgICAgZG9jdW1lbnRJZDogJ2RvYy0yJyxcbiAgICAgIHVzZXJJZDogJ3VzZXItMScsXG4gICAgICBhY2tub3dsZWRnZWRBdDogJzIwMjQtMDMtMDFUMTM6MDA6MDBaJ1xuICAgIH07XG5cbiAgICBheGlvcy5wb3N0Lm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGRhdGE6IG5ld0Fja25vd2xlZGdtZW50IH0pO1xuICAgIGF4aW9zLmdldFxuICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGRhdGE6IG1vY2tEb2N1bWVudHMgfSlcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoeyBkYXRhOiBtb2NrQWNrbm93bGVkZ21lbnRzIH0pXG4gICAgICAubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHsgZGF0YTogWy4uLm1vY2tBY2tub3dsZWRnbWVudHMsIG5ld0Fja25vd2xlZGdtZW50XSB9KTtcblxuICAgIHJlbmRlckNvbXBvbmVudCgpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEFsbEJ5VGV4dCgnVmlldyBEb2N1bWVudCcpKS50b0hhdmVMZW5ndGgoMik7XG4gICAgfSk7XG5cbiAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEFsbEJ5VGV4dCgnVmlldyBEb2N1bWVudCcpWzFdKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soc2NyZWVuLmdldEJ5VGV4dCgnQWNrbm93bGVkZ2UnKSk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChheGlvcy5nZXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL2hpcGFhL2Fja25vd2xlZGdtZW50cz91c2VySWQ9dXNlci0xJyk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEFsbEJ5VGV4dCgnQWNrbm93bGVkZ2VkJykpLnRvSGF2ZUxlbmd0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