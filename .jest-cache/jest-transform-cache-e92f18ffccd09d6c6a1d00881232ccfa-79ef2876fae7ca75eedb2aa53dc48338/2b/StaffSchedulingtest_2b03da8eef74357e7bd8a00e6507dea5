07460e6a692aac2450e874832dd3b0e7
"use strict";

// Mock the modules
_getJestObj().mock('axios');
_getJestObj().mock('../../context/SocketContext', () => _objectSpread(_objectSpread({}, jest.requireActual('../../context/SocketContext')), {}, {
  useSocket: () => ({
    socket: {
      on: jest.fn(),
      off: jest.fn(),
      emit: jest.fn()
    },
    updateSchedule: jest.fn()
  })
}));
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _react = _interopRequireDefault(require("react"));
var _react2 = require("@testing-library/react");
var _reactRouterDom = require("react-router-dom");
var _AuthContext = require("../../context/AuthContext");
var _SocketContext = require("../../context/SocketContext");
var _StaffScheduling = _interopRequireDefault(require("../../pages/StaffScheduling"));
var _axios = _interopRequireDefault(require("axios"));
var _jsxRuntime = require("react/jsx-runtime");
var _jsxFileName = "C:\\Users\\olari\\Downloads\\healthcare-main\\healthcare-main\\HealthcareSync\\frontend\\src\\components\\__tests__\\StaffScheduling.test.js";
import React from "react";
var __jsx = React.createElement;
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
function _getJestObj() {
  const {
    jest
  } = require("@jest/globals");
  _getJestObj = () => jest;
  return jest;
}
describe('StaffScheduling Component', () => {
  const mockSchedules = [{
    id: 'schedule-1',
    staffId: 'staff-1',
    staffName: 'Dr. Smith',
    shiftType: 'regular',
    department: 'Cardiology',
    startTime: '2024-03-01T09:00:00Z',
    endTime: '2024-03-01T17:00:00Z',
    notes: 'Morning shift'
  }, {
    id: 'schedule-2',
    staffId: 'staff-2',
    staffName: 'Dr. Johnson',
    shiftType: 'on-call',
    department: 'Emergency',
    startTime: '2024-03-01T17:00:00Z',
    endTime: '2024-03-02T09:00:00Z',
    notes: 'Night shift'
  }];
  const renderComponent = (role = 'admin') => {
    const mockUser = {
      id: 'user-1',
      role: role
    };
    return (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_reactRouterDom.MemoryRouter, {
      children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_AuthContext.AuthProvider, {
        value: {
          user: mockUser,
          hasRole: () => role === 'admin' || role === 'staff'
        },
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_SocketContext.SocketProvider, {
          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_StaffScheduling.default, {})
        })
      })
    }));
  };
  beforeEach(() => {
    jest.clearAllMocks();
    _axios.default.get.mockResolvedValue({
      data: mockSchedules
    });
  });
  it('renders access denied for unauthorized users', () => {
    renderComponent('patient');
    expect(_react2.screen.getByText('Access Denied')).toBeInTheDocument();
  });
  it('loads and displays staff schedules', async () => {
    renderComponent();
    await (0, _react2.waitFor)(() => {
      expect(_axios.default.get).toHaveBeenCalledWith('/api/staff-schedules');
    });
    expect(_react2.screen.getByText('Staff Scheduling')).toBeInTheDocument();
    expect(_react2.screen.getByText('Dr. Smith')).toBeInTheDocument();
    expect(_react2.screen.getByText('Dr. Johnson')).toBeInTheDocument();
  });
  it('allows admin to add new schedule', async () => {
    renderComponent();
    const newSchedule = {
      id: 'schedule-3',
      staffId: 'staff-3',
      staffName: 'Dr. Brown',
      shiftType: 'regular',
      department: 'Pediatrics',
      startTime: '2024-03-02T09:00:00Z',
      endTime: '2024-03-02T17:00:00Z',
      notes: 'Morning shift'
    };
    _axios.default.post.mockResolvedValueOnce({
      data: newSchedule
    });

    // Click add schedule button
    const addButton = await _react2.screen.findByText('Add Schedule');
    _react2.fireEvent.click(addButton);

    // Fill out the form
    const staffIdInput = _react2.screen.getByLabelText(/Staff Member/i);
    const departmentInput = _react2.screen.getByLabelText(/Department/i);
    const notesInput = _react2.screen.getByLabelText(/Notes/i);
    _react2.fireEvent.change(staffIdInput, {
      target: {
        value: 'staff-3'
      }
    });
    _react2.fireEvent.change(departmentInput, {
      target: {
        value: 'Pediatrics'
      }
    });
    _react2.fireEvent.change(notesInput, {
      target: {
        value: 'Morning shift'
      }
    });

    // Submit the form
    const saveButton = _react2.screen.getByText('Save');
    _react2.fireEvent.click(saveButton);
    await (0, _react2.waitFor)(() => {
      expect(_axios.default.post).toHaveBeenCalled();
    });
  });
  it('allows admin to edit schedule', async () => {
    renderComponent();
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Dr. Smith')).toBeInTheDocument();
    });

    // Click on a schedule to edit
    const scheduleCard = _react2.screen.getByText('Dr. Smith').closest('div');
    _react2.fireEvent.click(scheduleCard);

    // Update the notes
    const notesInput = _react2.screen.getByLabelText(/Notes/i);
    _react2.fireEvent.change(notesInput, {
      target: {
        value: 'Updated shift notes'
      }
    });

    // Save the changes
    const saveButton = _react2.screen.getByText('Save');
    _react2.fireEvent.click(saveButton);
    await (0, _react2.waitFor)(() => {
      expect(_axios.default.put).toHaveBeenCalled();
    });
  });
  it('allows admin to delete schedule', async () => {
    renderComponent();
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Dr. Smith')).toBeInTheDocument();
    });

    // Click on a schedule to edit
    const scheduleCard = _react2.screen.getByText('Dr. Smith').closest('div');
    _react2.fireEvent.click(scheduleCard);

    // Click delete button
    const deleteButton = _react2.screen.getByText('Delete');
    _react2.fireEvent.click(deleteButton);
    await (0, _react2.waitFor)(() => {
      expect(_axios.default.delete).toHaveBeenCalledWith('/api/staff-schedules/schedule-1');
    });
  });
  it('handles error states', async () => {
    _axios.default.get.mockRejectedValueOnce(new Error('Failed to load schedules'));
    renderComponent();
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Failed to load schedules')).toBeInTheDocument();
    });
  });
  it('updates schedule display when receiving WebSocket events', async () => {
    const {
      rerender
    } = renderComponent();
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Dr. Smith')).toBeInTheDocument();
    });

    // Simulate receiving a WebSocket update
    const updatedSchedule = _objectSpread(_objectSpread({}, mockSchedules[0]), {}, {
      notes: 'Updated via WebSocket'
    });
    _axios.default.get.mockResolvedValueOnce({
      data: [updatedSchedule, mockSchedules[1]]
    });
    rerender(/*#__PURE__*/(0, _jsxRuntime.jsx)(_reactRouterDom.MemoryRouter, {
      children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_AuthContext.AuthProvider, {
        value: {
          user: {
            id: 'user-1',
            role: 'admin'
          },
          hasRole: () => true
        },
        children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_SocketContext.SocketProvider, {
          children: /*#__PURE__*/(0, _jsxRuntime.jsx)(_StaffScheduling.default, {})
        })
      })
    }));
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Updated via WebSocket')).toBeInTheDocument();
    });
  });
  it('restricts edit/delete actions for non-admin users', async () => {
    renderComponent('staff');
    await (0, _react2.waitFor)(() => {
      expect(_react2.screen.getByText('Dr. Smith')).toBeInTheDocument();
    });
    expect(_react2.screen.queryByText('Add Schedule')).not.toBeInTheDocument();
    expect(_react2.screen.queryByText('Delete')).not.toBeInTheDocument();
  });
  it('renders the Staff Scheduling page', () => {
    (0, _react2.render)(/*#__PURE__*/(0, _jsxRuntime.jsx)(_StaffScheduling.default, {}));
    expect(_react2.screen.getByText('Staff Scheduling')).toBeInTheDocument();
    expect(_react2.screen.getByText('Welcome to the Staff Scheduling page.')).toBeInTheDocument();
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJfb2JqZWN0U3ByZWFkIiwiamVzdCIsInJlcXVpcmVBY3R1YWwiLCJ1c2VTb2NrZXQiLCJzb2NrZXQiLCJvbiIsImZuIiwib2ZmIiwiZW1pdCIsInVwZGF0ZVNjaGVkdWxlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZGVmaW5lUHJvcGVydHkyIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9yZWFjdFJvdXRlckRvbSIsIl9BdXRoQ29udGV4dCIsIl9Tb2NrZXRDb250ZXh0IiwiX1N0YWZmU2NoZWR1bGluZyIsIl9heGlvcyIsIl9qc3hSdW50aW1lIiwiX2pzeEZpbGVOYW1lIiwiUmVhY3QiLCJfX2pzeCIsImNyZWF0ZUVsZW1lbnQiLCJvd25LZXlzIiwiZSIsInIiLCJ0IiwiT2JqZWN0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsImRlZmF1bHQiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5IiwiZGVzY3JpYmUiLCJtb2NrU2NoZWR1bGVzIiwiaWQiLCJzdGFmZklkIiwic3RhZmZOYW1lIiwic2hpZnRUeXBlIiwiZGVwYXJ0bWVudCIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJub3RlcyIsInJlbmRlckNvbXBvbmVudCIsInJvbGUiLCJtb2NrVXNlciIsInJlbmRlciIsImpzeCIsIk1lbW9yeVJvdXRlciIsImNoaWxkcmVuIiwiQXV0aFByb3ZpZGVyIiwidmFsdWUiLCJ1c2VyIiwiaGFzUm9sZSIsIlNvY2tldFByb3ZpZGVyIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJheGlvcyIsImdldCIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiZGF0YSIsIml0IiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXh0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJ3YWl0Rm9yIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJuZXdTY2hlZHVsZSIsInBvc3QiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJhZGRCdXR0b24iLCJmaW5kQnlUZXh0IiwiZmlyZUV2ZW50IiwiY2xpY2siLCJzdGFmZklkSW5wdXQiLCJnZXRCeUxhYmVsVGV4dCIsImRlcGFydG1lbnRJbnB1dCIsIm5vdGVzSW5wdXQiLCJjaGFuZ2UiLCJ0YXJnZXQiLCJzYXZlQnV0dG9uIiwidG9IYXZlQmVlbkNhbGxlZCIsInNjaGVkdWxlQ2FyZCIsImNsb3Nlc3QiLCJwdXQiLCJkZWxldGVCdXR0b24iLCJkZWxldGUiLCJtb2NrUmVqZWN0ZWRWYWx1ZU9uY2UiLCJFcnJvciIsInJlcmVuZGVyIiwidXBkYXRlZFNjaGVkdWxlIiwicXVlcnlCeVRleHQiLCJub3QiXSwic291cmNlcyI6WyJTdGFmZlNjaGVkdWxpbmcudGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgTWVtb3J5Um91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgeyBBdXRoUHJvdmlkZXIgfSBmcm9tICcuLi8uLi9jb250ZXh0L0F1dGhDb250ZXh0JztcbmltcG9ydCB7IFNvY2tldFByb3ZpZGVyIH0gZnJvbSAnLi4vLi4vY29udGV4dC9Tb2NrZXRDb250ZXh0JztcbmltcG9ydCBTdGFmZlNjaGVkdWxpbmcgZnJvbSAnLi4vLi4vcGFnZXMvU3RhZmZTY2hlZHVsaW5nJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbi8vIE1vY2sgdGhlIG1vZHVsZXNcbmplc3QubW9jaygnYXhpb3MnKTtcbmplc3QubW9jaygnLi4vLi4vY29udGV4dC9Tb2NrZXRDb250ZXh0JywgKCkgPT4gKHtcbiAgLi4uamVzdC5yZXF1aXJlQWN0dWFsKCcuLi8uLi9jb250ZXh0L1NvY2tldENvbnRleHQnKSxcbiAgdXNlU29ja2V0OiAoKSA9PiAoe1xuICAgIHNvY2tldDoge1xuICAgICAgb246IGplc3QuZm4oKSxcbiAgICAgIG9mZjogamVzdC5mbigpLFxuICAgICAgZW1pdDogamVzdC5mbigpXG4gICAgfSxcbiAgICB1cGRhdGVTY2hlZHVsZTogamVzdC5mbigpXG4gIH0pXG59KSk7XG5cbmRlc2NyaWJlKCdTdGFmZlNjaGVkdWxpbmcgQ29tcG9uZW50JywgKCkgPT4ge1xuICBjb25zdCBtb2NrU2NoZWR1bGVzID0gW1xuICAgIHtcbiAgICAgIGlkOiAnc2NoZWR1bGUtMScsXG4gICAgICBzdGFmZklkOiAnc3RhZmYtMScsXG4gICAgICBzdGFmZk5hbWU6ICdEci4gU21pdGgnLFxuICAgICAgc2hpZnRUeXBlOiAncmVndWxhcicsXG4gICAgICBkZXBhcnRtZW50OiAnQ2FyZGlvbG9neScsXG4gICAgICBzdGFydFRpbWU6ICcyMDI0LTAzLTAxVDA5OjAwOjAwWicsXG4gICAgICBlbmRUaW1lOiAnMjAyNC0wMy0wMVQxNzowMDowMFonLFxuICAgICAgbm90ZXM6ICdNb3JuaW5nIHNoaWZ0J1xuICAgIH0sXG4gICAge1xuICAgICAgaWQ6ICdzY2hlZHVsZS0yJyxcbiAgICAgIHN0YWZmSWQ6ICdzdGFmZi0yJyxcbiAgICAgIHN0YWZmTmFtZTogJ0RyLiBKb2huc29uJyxcbiAgICAgIHNoaWZ0VHlwZTogJ29uLWNhbGwnLFxuICAgICAgZGVwYXJ0bWVudDogJ0VtZXJnZW5jeScsXG4gICAgICBzdGFydFRpbWU6ICcyMDI0LTAzLTAxVDE3OjAwOjAwWicsXG4gICAgICBlbmRUaW1lOiAnMjAyNC0wMy0wMlQwOTowMDowMFonLFxuICAgICAgbm90ZXM6ICdOaWdodCBzaGlmdCdcbiAgICB9XG4gIF07XG5cbiAgY29uc3QgcmVuZGVyQ29tcG9uZW50ID0gKHJvbGUgPSAnYWRtaW4nKSA9PiB7XG4gICAgY29uc3QgbW9ja1VzZXIgPSB7XG4gICAgICBpZDogJ3VzZXItMScsXG4gICAgICByb2xlOiByb2xlXG4gICAgfTtcblxuICAgIHJldHVybiByZW5kZXIoXG4gICAgICA8TWVtb3J5Um91dGVyPlxuICAgICAgICA8QXV0aFByb3ZpZGVyIHZhbHVlPXt7IHVzZXI6IG1vY2tVc2VyLCBoYXNSb2xlOiAoKSA9PiByb2xlID09PSAnYWRtaW4nIHx8IHJvbGUgPT09ICdzdGFmZicgfX0+XG4gICAgICAgICAgPFNvY2tldFByb3ZpZGVyPlxuICAgICAgICAgICAgPFN0YWZmU2NoZWR1bGluZyAvPlxuICAgICAgICAgIDwvU29ja2V0UHJvdmlkZXI+XG4gICAgICAgIDwvQXV0aFByb3ZpZGVyPlxuICAgICAgPC9NZW1vcnlSb3V0ZXI+XG4gICAgKTtcbiAgfTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBheGlvcy5nZXQubW9ja1Jlc29sdmVkVmFsdWUoeyBkYXRhOiBtb2NrU2NoZWR1bGVzIH0pO1xuICB9KTtcblxuICBpdCgncmVuZGVycyBhY2Nlc3MgZGVuaWVkIGZvciB1bmF1dGhvcml6ZWQgdXNlcnMnLCAoKSA9PiB7XG4gICAgcmVuZGVyQ29tcG9uZW50KCdwYXRpZW50Jyk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0FjY2VzcyBEZW5pZWQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgfSk7XG5cbiAgaXQoJ2xvYWRzIGFuZCBkaXNwbGF5cyBzdGFmZiBzY2hlZHVsZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyQ29tcG9uZW50KCk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChheGlvcy5nZXQpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL3N0YWZmLXNjaGVkdWxlcycpO1xuICAgIH0pO1xuXG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1N0YWZmIFNjaGVkdWxpbmcnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRHIuIFNtaXRoJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0RyLiBKb2huc29uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xuXG4gIGl0KCdhbGxvd3MgYWRtaW4gdG8gYWRkIG5ldyBzY2hlZHVsZScsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXJDb21wb25lbnQoKTtcblxuICAgIGNvbnN0IG5ld1NjaGVkdWxlID0ge1xuICAgICAgaWQ6ICdzY2hlZHVsZS0zJyxcbiAgICAgIHN0YWZmSWQ6ICdzdGFmZi0zJyxcbiAgICAgIHN0YWZmTmFtZTogJ0RyLiBCcm93bicsXG4gICAgICBzaGlmdFR5cGU6ICdyZWd1bGFyJyxcbiAgICAgIGRlcGFydG1lbnQ6ICdQZWRpYXRyaWNzJyxcbiAgICAgIHN0YXJ0VGltZTogJzIwMjQtMDMtMDJUMDk6MDA6MDBaJyxcbiAgICAgIGVuZFRpbWU6ICcyMDI0LTAzLTAyVDE3OjAwOjAwWicsXG4gICAgICBub3RlczogJ01vcm5pbmcgc2hpZnQnXG4gICAgfTtcblxuICAgIGF4aW9zLnBvc3QubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHsgZGF0YTogbmV3U2NoZWR1bGUgfSk7XG5cbiAgICAvLyBDbGljayBhZGQgc2NoZWR1bGUgYnV0dG9uXG4gICAgY29uc3QgYWRkQnV0dG9uID0gYXdhaXQgc2NyZWVuLmZpbmRCeVRleHQoJ0FkZCBTY2hlZHVsZScpO1xuICAgIGZpcmVFdmVudC5jbGljayhhZGRCdXR0b24pO1xuXG4gICAgLy8gRmlsbCBvdXQgdGhlIGZvcm1cbiAgICBjb25zdCBzdGFmZklkSW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL1N0YWZmIE1lbWJlci9pKTtcbiAgICBjb25zdCBkZXBhcnRtZW50SW5wdXQgPSBzY3JlZW4uZ2V0QnlMYWJlbFRleHQoL0RlcGFydG1lbnQvaSk7XG4gICAgY29uc3Qgbm90ZXNJbnB1dCA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvTm90ZXMvaSk7XG5cbiAgICBmaXJlRXZlbnQuY2hhbmdlKHN0YWZmSWRJbnB1dCwgeyB0YXJnZXQ6IHsgdmFsdWU6ICdzdGFmZi0zJyB9IH0pO1xuICAgIGZpcmVFdmVudC5jaGFuZ2UoZGVwYXJ0bWVudElucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ1BlZGlhdHJpY3MnIH0gfSk7XG4gICAgZmlyZUV2ZW50LmNoYW5nZShub3Rlc0lucHV0LCB7IHRhcmdldDogeyB2YWx1ZTogJ01vcm5pbmcgc2hpZnQnIH0gfSk7XG5cbiAgICAvLyBTdWJtaXQgdGhlIGZvcm1cbiAgICBjb25zdCBzYXZlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnU2F2ZScpO1xuICAgIGZpcmVFdmVudC5jbGljayhzYXZlQnV0dG9uKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KGF4aW9zLnBvc3QpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ2FsbG93cyBhZG1pbiB0byBlZGl0IHNjaGVkdWxlJywgYXN5bmMgKCkgPT4ge1xuICAgIHJlbmRlckNvbXBvbmVudCgpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRHIuIFNtaXRoJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICAvLyBDbGljayBvbiBhIHNjaGVkdWxlIHRvIGVkaXRcbiAgICBjb25zdCBzY2hlZHVsZUNhcmQgPSBzY3JlZW4uZ2V0QnlUZXh0KCdEci4gU21pdGgnKS5jbG9zZXN0KCdkaXYnKTtcbiAgICBmaXJlRXZlbnQuY2xpY2soc2NoZWR1bGVDYXJkKTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgbm90ZXNcbiAgICBjb25zdCBub3Rlc0lucHV0ID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9Ob3Rlcy9pKTtcbiAgICBmaXJlRXZlbnQuY2hhbmdlKG5vdGVzSW5wdXQsIHsgdGFyZ2V0OiB7IHZhbHVlOiAnVXBkYXRlZCBzaGlmdCBub3RlcycgfSB9KTtcblxuICAgIC8vIFNhdmUgdGhlIGNoYW5nZXNcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnU2F2ZScpO1xuICAgIGZpcmVFdmVudC5jbGljayhzYXZlQnV0dG9uKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KGF4aW9zLnB1dCkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBpdCgnYWxsb3dzIGFkbWluIHRvIGRlbGV0ZSBzY2hlZHVsZScsIGFzeW5jICgpID0+IHtcbiAgICByZW5kZXJDb21wb25lbnQoKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0RyLiBTbWl0aCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gQ2xpY2sgb24gYSBzY2hlZHVsZSB0byBlZGl0XG4gICAgY29uc3Qgc2NoZWR1bGVDYXJkID0gc2NyZWVuLmdldEJ5VGV4dCgnRHIuIFNtaXRoJykuY2xvc2VzdCgnZGl2Jyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKHNjaGVkdWxlQ2FyZCk7XG5cbiAgICAvLyBDbGljayBkZWxldGUgYnV0dG9uXG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgnRGVsZXRlJyk7XG4gICAgZmlyZUV2ZW50LmNsaWNrKGRlbGV0ZUJ1dHRvbik7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChheGlvcy5kZWxldGUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvYXBpL3N0YWZmLXNjaGVkdWxlcy9zY2hlZHVsZS0xJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCdoYW5kbGVzIGVycm9yIHN0YXRlcycsIGFzeW5jICgpID0+IHtcbiAgICBheGlvcy5nZXQubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgc2NoZWR1bGVzJykpO1xuICAgIHJlbmRlckNvbXBvbmVudCgpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRmFpbGVkIHRvIGxvYWQgc2NoZWR1bGVzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGl0KCd1cGRhdGVzIHNjaGVkdWxlIGRpc3BsYXkgd2hlbiByZWNlaXZpbmcgV2ViU29ja2V0IGV2ZW50cycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCB7IHJlcmVuZGVyIH0gPSByZW5kZXJDb21wb25lbnQoKTtcblxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ0RyLiBTbWl0aCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgLy8gU2ltdWxhdGUgcmVjZWl2aW5nIGEgV2ViU29ja2V0IHVwZGF0ZVxuICAgIGNvbnN0IHVwZGF0ZWRTY2hlZHVsZSA9IHtcbiAgICAgIC4uLm1vY2tTY2hlZHVsZXNbMF0sXG4gICAgICBub3RlczogJ1VwZGF0ZWQgdmlhIFdlYlNvY2tldCdcbiAgICB9O1xuXG4gICAgYXhpb3MuZ2V0Lm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7IGRhdGE6IFt1cGRhdGVkU2NoZWR1bGUsIG1vY2tTY2hlZHVsZXNbMV1dIH0pO1xuICAgIHJlcmVuZGVyKFxuICAgICAgPE1lbW9yeVJvdXRlcj5cbiAgICAgICAgPEF1dGhQcm92aWRlciB2YWx1ZT17eyB1c2VyOiB7IGlkOiAndXNlci0xJywgcm9sZTogJ2FkbWluJyB9LCBoYXNSb2xlOiAoKSA9PiB0cnVlIH19PlxuICAgICAgICAgIDxTb2NrZXRQcm92aWRlcj5cbiAgICAgICAgICAgIDxTdGFmZlNjaGVkdWxpbmcgLz5cbiAgICAgICAgICA8L1NvY2tldFByb3ZpZGVyPlxuICAgICAgICA8L0F1dGhQcm92aWRlcj5cbiAgICAgIDwvTWVtb3J5Um91dGVyPlxuICAgICk7XG5cbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdVcGRhdGVkIHZpYSBXZWJTb2NrZXQnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaXQoJ3Jlc3RyaWN0cyBlZGl0L2RlbGV0ZSBhY3Rpb25zIGZvciBub24tYWRtaW4gdXNlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgcmVuZGVyQ29tcG9uZW50KCdzdGFmZicpO1xuXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnRHIuIFNtaXRoJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXh0KCdBZGQgU2NoZWR1bGUnKSkubm90LnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnRGVsZXRlJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICB9KTtcblxuICBpdCgncmVuZGVycyB0aGUgU3RhZmYgU2NoZWR1bGluZyBwYWdlJywgKCkgPT4ge1xuICAgIHJlbmRlcig8U3RhZmZTY2hlZHVsaW5nIC8+KTtcbiAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgnU3RhZmYgU2NoZWR1bGluZycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdXZWxjb21lIHRvIHRoZSBTdGFmZiBTY2hlZHVsaW5nIHBhZ2UuJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gIH0pO1xufSk7ICJdLCJtYXBwaW5ncyI6Ijs7QUFRQTtBQUNBQSxXQUFBLEdBQUtDLElB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