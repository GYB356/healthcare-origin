{"version":3,"names":["os_1","tslib_1","__importDefault","require","path_1","MongoBinaryDownload_1","resolveConfig_1","__importStar","debug_1","semver","utils_1","child_process_1","lockfile_1","DryMongoBinary_1","log","default","MongoBinary","download","options","downloadDir","version","mkdir","lockfile","resolve","lock","LockFile","DryMongoBinary","binaryCache","has","downloader","set","getMongodPath","unlock","cachePath","get","assertion","Error","getPath","opts","Object","assign","generateOptions","platform","ResolveConfigVariables","PLATFORM","checkMD5","envToBool","MD5_CHECK","JSON","stringify","binaryPath","locateBinary","systemBinary","isNullOrUndefined","spawnOutput","spawnSync","stdout","toString","match","SYSTEM_BINARY_VERSION_CHECK","binaryVersion","neq","console","warn","RUNTIME_DOWNLOAD","runtimeDownload","exports"],"sources":["../../src/util/MongoBinary.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}