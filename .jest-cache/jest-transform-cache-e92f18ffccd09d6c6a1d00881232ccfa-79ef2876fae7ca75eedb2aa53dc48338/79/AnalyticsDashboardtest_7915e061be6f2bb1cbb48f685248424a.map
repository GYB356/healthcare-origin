{"version":3,"names":["_getJestObj","mock","LineChart","_jsxRuntime","jsx","Line","BarChart","Bar","PieChart","Pie","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","children","_interopRequireDefault","require","_react","_react2","_reactRouterDom","_AuthContext","_AnalyticsDashboard","_axios","React","__jsx","createElement","jest","describe","mockData","dashboard","patientCount","appointmentCount","telemedicineSessionCount","activeDevices","appointments","total","byStatus","scheduled","completed","cancelled","byMonth","January","February","March","telemedicine","byDoctor","renderComponent","role","render","MemoryRouter","AuthProvider","value","user","id","hasRole","default","beforeEach","clearAllMocks","Object","keys","forEach","key","axios","get","mockResolvedValueOnce","data","it","expect","screen","getByText","toBeInTheDocument","waitFor","toHaveBeenCalledWith","getAllByTestId","toHaveLength","getByTestId","timeframeSelect","getByRole","fireEvent","change","target","toBe","mockRejectedValueOnce","Error"],"sources":["AnalyticsDashboard.test.js"],"sourcesContent":["import React from 'react';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport { MemoryRouter } from 'react-router-dom';\nimport { AuthProvider } from '../../context/AuthContext';\nimport AnalyticsDashboard from '../../pages/AnalyticsDashboard';\nimport axios from 'axios';\n\n// Mock the modules\njest.mock('axios');\njest.mock('recharts', () => ({\n  LineChart: () => <div data-testid=\"line-chart\" />,\n  Line: () => null,\n  BarChart: () => <div data-testid=\"bar-chart\" />,\n  Bar: () => null,\n  PieChart: () => <div data-testid=\"pie-chart\" />,\n  Pie: () => null,\n  XAxis: () => null,\n  YAxis: () => null,\n  CartesianGrid: () => null,\n  Tooltip: () => null,\n  Legend: () => null,\n  ResponsiveContainer: ({ children }) => <div>{children}</div>\n}));\n\ndescribe('AnalyticsDashboard Component', () => {\n  const mockData = {\n    dashboard: {\n      patientCount: 1000,\n      appointmentCount: 500,\n      telemedicineSessionCount: 200,\n      activeDevices: 50\n    },\n    appointments: {\n      total: 500,\n      byStatus: { scheduled: 200, completed: 250, cancelled: 50 },\n      byMonth: { January: 100, February: 150, March: 250 }\n    },\n    telemedicine: {\n      total: 200,\n      byStatus: { scheduled: 80, completed: 100, cancelled: 20 },\n      byDoctor: { 'doctor-1': 50, 'doctor-2': 75, 'doctor-3': 75 }\n    }\n  };\n\n  const renderComponent = (role = 'admin') => {\n    return render(\n      <MemoryRouter>\n        <AuthProvider value={{ user: { id: 'user-1', role }, hasRole: () => role === 'admin' }}>\n          <AnalyticsDashboard />\n        </AuthProvider>\n      </MemoryRouter>\n    );\n  };\n\n  beforeEach(() => {\n    jest.clearAllMocks();\n    Object.keys(mockData).forEach(key => {\n      axios.get.mockResolvedValueOnce({ data: mockData[key] });\n    });\n  });\n\n  it('renders access denied for unauthorized users', () => {\n    renderComponent('doctor');\n    expect(screen.getByText('Access Denied')).toBeInTheDocument();\n  });\n\n  it('loads and displays analytics data', async () => {\n    renderComponent();\n\n    await waitFor(() => {\n      expect(axios.get).toHaveBeenCalledWith('/api/analytics/dashboard');\n      expect(axios.get).toHaveBeenCalledWith('/api/analytics/appointments');\n      expect(axios.get).toHaveBeenCalledWith('/api/analytics/telemedicine');\n    });\n\n    expect(screen.getByText('1,000')).toBeInTheDocument();\n    expect(screen.getByText('500')).toBeInTheDocument();\n    expect(screen.getByText('200')).toBeInTheDocument();\n    expect(screen.getByText('50')).toBeInTheDocument();\n\n    expect(screen.getAllByTestId('line-chart')).toHaveLength(2);\n    expect(screen.getByTestId('bar-chart')).toBeInTheDocument();\n    expect(screen.getByTestId('pie-chart')).toBeInTheDocument();\n  });\n\n  it('allows changing timeframe', async () => {\n    renderComponent();\n\n    await waitFor(() => {\n      expect(screen.getByText('Last Month')).toBeInTheDocument();\n    });\n\n    const timeframeSelect = screen.getByRole('combobox');\n    fireEvent.change(timeframeSelect, { target: { value: 'week' } });\n\n    expect(timeframeSelect.value).toBe('week');\n  });\n\n  it('handles error states', async () => {\n    axios.get.mockRejectedValueOnce(new Error('Failed to load analytics'));\n    renderComponent();\n\n    await waitFor(() => {\n      expect(screen.getByText('Failed to load analytics data')).toBeInTheDocument();\n    });\n  });\n\n  it('displays loading state', () => {\n    renderComponent();\n    expect(screen.getByText('Loading analytics...')).toBeInTheDocument();\n  });\n}); "],"mappings":"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","ignoreList":[]}