1902bc383b4978e08c03d88efe88cd2e
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));
var _vitest = require("vitest");
var _server = require("next/server");
var _nextAuth = require("next-auth");
var _client = require("@prisma/client");
var _route = require("@/app/api/appointments/[id]/route");
var _route2 = require("@/app/api/appointments/route");
function ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }
function _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { (0, _defineProperty2.default)(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }
// Mock next-auth
_vitest.vi.mock('next-auth', () => ({
  getServerSession: _vitest.vi.fn()
}));

// Mock Prisma
_vitest.vi.mock('@prisma/client', () => ({
  PrismaClient: _vitest.vi.fn(() => ({
    appointment: {
      findMany: _vitest.vi.fn(),
      findUnique: _vitest.vi.fn(),
      create: _vitest.vi.fn(),
      update: _vitest.vi.fn(),
      delete: _vitest.vi.fn()
    },
    availability: {
      findMany: _vitest.vi.fn()
    },
    auditLog: {
      create: _vitest.vi.fn()
    },
    $transaction: _vitest.vi.fn(callback => callback())
  }))
}));
(0, _vitest.describe)('Appointments API', () => {
  let mockPrisma;
  let mockSession;
  (0, _vitest.beforeEach)(() => {
    mockPrisma = new _client.PrismaClient();
    mockSession = {
      user: {
        id: 'user-id',
        role: 'DOCTOR'
      }
    };
    _nextAuth.getServerSession.mockResolvedValue(mockSession);
  });
  (0, _vitest.afterEach)(() => {
    _vitest.vi.clearAllMocks();
  });
  (0, _vitest.describe)('GET /api/appointments', () => {
    (0, _vitest.it)('should return 401 for unauthenticated users', async () => {
      ;
      _nextAuth.getServerSession.mockResolvedValue(null);
      const request = new _server.NextRequest('http://localhost:3000/api/appointments');
      const response = await (0, _route2.GET)(request);
      (0, _vitest.expect)(response.status).toBe(401);
    });
    (0, _vitest.it)('should return appointments for doctors', async () => {
      const mockAppointments = [{
        id: '1',
        patientId: 'patient-1',
        doctorId: 'user-id',
        date: '2024-03-15',
        time: '09:00',
        status: 'SCHEDULED'
      }];
      mockPrisma.appointment.findMany.mockResolvedValue(mockAppointments);
      const request = new _server.NextRequest('http://localhost:3000/api/appointments');
      const response = await (0, _route2.GET)(request);
      const data = await response.json();
      (0, _vitest.expect)(response.status).toBe(200);
      (0, _vitest.expect)(data).toEqual(mockAppointments);
    });
    (0, _vitest.it)('should filter appointments by patient for patient users', async () => {
      mockSession.user.role = 'PATIENT';
      mockSession.user.id = 'patient-id';
      const request = new _server.NextRequest('http://localhost:3000/api/appointments');
      await (0, _route2.GET)(request);
      (0, _vitest.expect)(mockPrisma.appointment.findMany).toHaveBeenCalledWith(_vitest.expect.objectContaining({
        where: _vitest.expect.objectContaining({
          patientId: 'patient-id'
        })
      }));
    });
    (0, _vitest.it)('should handle date range filtering', async () => {
      const request = new _server.NextRequest('http://localhost:3000/api/appointments?startDate=2024-03-01&endDate=2024-03-31');
      await (0, _route2.GET)(request);
      (0, _vitest.expect)(mockPrisma.appointment.findMany).toHaveBeenCalledWith(_vitest.expect.objectContaining({
        where: _vitest.expect.objectContaining({
          date: {
            gte: '2024-03-01',
            lte: '2024-03-31'
          }
        })
      }));
    });
  });
  (0, _vitest.describe)('GET /api/appointments/[id]', () => {
    (0, _vitest.it)('should return appointment data for valid ID', async () => {
      const mockAppointment = {
        id: '1',
        patientId: 'patient-1',
        doctorId: 'doctor-1',
        date: '2024-03-15',
        time: '09:00',
        status: 'SCHEDULED'
      };
      mockPrisma.appointment.findUnique.mockResolvedValue(mockAppointment);
      const request = new _server.NextRequest('http://localhost:3000/api/appointments/1');
      const response = await (0, _route.GET)(request, {
        params: {
          id: '1'
        }
      });
      const data = await response.json();
      (0, _vitest.expect)(response.status).toBe(200);
      (0, _vitest.expect)(data).toEqual(mockAppointment);
    });
    (0, _vitest.it)('should return 404 for non-existent appointment', async () => {
      ;
      mockPrisma.appointment.findUnique.mockResolvedValue(null);
      const request = new _server.NextRequest('http://localhost:3000/api/appointments/999');
      const response = await (0, _route.GET)(request, {
        params: {
          id: '999'
        }
      });
      (0, _vitest.expect)(response.status).toBe(404);
    });
  });
  (0, _vitest.describe)('POST /api/appointments', () => {
    (0, _vitest.it)('should create a new appointment', async () => {
      const mockAppointment = {
        patientId: 'patient-1',
        doctorId: 'doctor-1',
        date: '2024-03-15',
        time: '09:00'
      };
      mockPrisma.appointment.create.mockResolvedValue(_objectSpread(_objectSpread({
        id: '1'
      }, mockAppointment), {}, {
        status: 'SCHEDULED'
      }));
      mockPrisma.availability.findMany.mockResolvedValue([{
        dayOfWeek: 'FRIDAY',
        startTime: '09:00',
        endTime: '17:00'
      }]);
      const request = new _server.NextRequest('http://localhost:3000/api/appointments', {
        method: 'POST',
        body: JSON.stringify(mockAppointment)
      });
      const response = await (0, _route.POST)(request);
      const data = await response.json();
      (0, _vitest.expect)(response.status).toBe(201);
      (0, _vitest.expect)(data.id).toBe('1');
      (0, _vitest.expect)(data.status).toBe('SCHEDULED');
    });
    (0, _vitest.it)('should validate required fields', async () => {
      const request = new _server.NextRequest('http://localhost:3000/api/appointments', {
        method: 'POST',
        body: JSON.stringify({})
      });
      const response = await (0, _route.POST)(request);
      (0, _vitest.expect)(response.status).toBe(400);
    });
    (0, _vitest.it)('should validate doctor availability', async () => {
      ;
      mockPrisma.availability.findMany.mockResolvedValue([]);
      const request = new _server.NextRequest('http://localhost:3000/api/appointments', {
        method: 'POST',
        body: JSON.stringify({
          patientId: 'patient-1',
          doctorId: 'doctor-1',
          date: '2024-03-15',
          time: '09:00'
        })
      });
      const response = await (0, _route.POST)(request);
      (0, _vitest.expect)(response.status).toBe(400);
    });
  });
  (0, _vitest.describe)('PUT /api/appointments/[id]', () => {
    (0, _vitest.it)('should update appointment status', async () => {
      const mockAppointment = {
        id: '1',
        status: 'COMPLETED'
      };
      mockPrisma.appointment.update.mockResolvedValue(mockAppointment);
      const request = new _server.NextRequest('http://localhost:3000/api/appointments/1', {
        method: 'PUT',
        body: JSON.stringify({
          status: 'COMPLETED'
        })
      });
      const response = await (0, _route.PUT)(request, {
        params: {
          id: '1'
        }
      });
      const data = await response.json();
      (0, _vitest.expect)(response.status).toBe(200);
      (0, _vitest.expect)(data.status).toBe('COMPLETED');
    });
    (0, _vitest.it)('should validate status values', async () => {
      const request = new _server.NextRequest('http://localhost:3000/api/appointments/1', {
        method: 'PUT',
        body: JSON.stringify({
          status: 'INVALID_STATUS'
        })
      });
      const response = await (0, _route.PUT)(request, {
        params: {
          id: '1'
        }
      });
      (0, _vitest.expect)(response.status).toBe(400);
    });
  });
  (0, _vitest.describe)('DELETE /api/appointments/[id]', () => {
    (0, _vitest.it)('should cancel an appointment', async () => {
      ;
      mockPrisma.appointment.delete.mockResolvedValue({
        id: '1'
      });
      const request = new _server.NextRequest('http://localhost:3000/api/appointments/1', {
        method: 'DELETE'
      });
      const response = await (0, _route.DELETE)(request, {
        params: {
          id: '1'
        }
      });
      (0, _vitest.expect)(response.status).toBe(204);
    });
    (0, _vitest.it)('should return 404 for non-existent appointment', async () => {
      ;
      mockPrisma.appointment.delete.mockRejectedValue(new Error('Not found'));
      const request = new _server.NextRequest('http://localhost:3000/api/appointments/999', {
        method: 'DELETE'
      });
      const response = await (0, _route.DELETE)(request, {
        params: {
          id: '999'
        }
      });
      (0, _vitest.expect)(response.status).toBe(404);
    });
  });
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdml0ZXN0IiwicmVxdWlyZSIsIl9zZXJ2ZXIiLCJfbmV4dEF1dGgiLCJfY2xpZW50IiwiX3JvdXRlIiwiX3JvdXRlMiIsIm93bktleXMiLCJlIiwiciIsInQiLCJPYmplY3QiLCJrZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibyIsImZpbHRlciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJwdXNoIiwiYXBwbHkiLCJfb2JqZWN0U3ByZWFkIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eTIiLCJkZWZhdWx0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsInZpIiwibW9jayIsImdldFNlcnZlclNlc3Npb24iLCJmbiIsIlByaXNtYUNsaWVudCIsImFwcG9pbnRtZW50IiwiZmluZE1hbnkiLCJmaW5kVW5pcXVlIiwiY3JlYXRlIiwidXBkYXRlIiwiZGVsZXRlIiwiYXZhaWxhYmlsaXR5IiwiYXVkaXRMb2ciLCIkdHJhbnNhY3Rpb24iLCJjYWxsYmFjayIsImRlc2NyaWJlIiwibW9ja1ByaXNtYSIsIm1vY2tTZXNzaW9uIiwiYmVmb3JlRWFjaCIsInVzZXIiLCJpZCIsInJvbGUiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImFmdGVyRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsInJlcXVlc3QiLCJOZXh0UmVxdWVzdCIsInJlc3BvbnNlIiwibGlzdEdFVCIsImV4cGVjdCIsInN0YXR1cyIsInRvQmUiLCJtb2NrQXBwb2ludG1lbnRzIiwicGF0aWVudElkIiwiZG9jdG9ySWQiLCJkYXRlIiwidGltZSIsImRhdGEiLCJqc29uIiwidG9FcXVhbCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwib2JqZWN0Q29udGFpbmluZyIsIndoZXJlIiwiZ3RlIiwibHRlIiwibW9ja0FwcG9pbnRtZW50IiwiR0VUIiwicGFyYW1zIiwiZGF5T2ZXZWVrIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiUE9TVCIsIlBVVCIsIkRFTEVURSIsIm1vY2tSZWplY3RlZFZhbHVlIiwiRXJyb3IiXSwic291cmNlcyI6WyJhcHBvaW50bWVudHMudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZXNjcmliZSwgaXQsIGV4cGVjdCwgYmVmb3JlRWFjaCwgYWZ0ZXJFYWNoLCB2aSB9IGZyb20gJ3ZpdGVzdCdcbmltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoJ1xuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnXG5pbXBvcnQgeyBHRVQsIFBPU1QsIFBVVCwgREVMRVRFIH0gZnJvbSAnQC9hcHAvYXBpL2FwcG9pbnRtZW50cy9baWRdL3JvdXRlJ1xuaW1wb3J0IHsgR0VUIGFzIGxpc3RHRVQgfSBmcm9tICdAL2FwcC9hcGkvYXBwb2ludG1lbnRzL3JvdXRlJ1xuXG4vLyBNb2NrIG5leHQtYXV0aFxudmkubW9jaygnbmV4dC1hdXRoJywgKCkgPT4gKHtcbiAgZ2V0U2VydmVyU2Vzc2lvbjogdmkuZm4oKSxcbn0pKVxuXG4vLyBNb2NrIFByaXNtYVxudmkubW9jaygnQHByaXNtYS9jbGllbnQnLCAoKSA9PiAoe1xuICBQcmlzbWFDbGllbnQ6IHZpLmZuKCgpID0+ICh7XG4gICAgYXBwb2ludG1lbnQ6IHtcbiAgICAgIGZpbmRNYW55OiB2aS5mbigpLFxuICAgICAgZmluZFVuaXF1ZTogdmkuZm4oKSxcbiAgICAgIGNyZWF0ZTogdmkuZm4oKSxcbiAgICAgIHVwZGF0ZTogdmkuZm4oKSxcbiAgICAgIGRlbGV0ZTogdmkuZm4oKSxcbiAgICB9LFxuICAgIGF2YWlsYWJpbGl0eToge1xuICAgICAgZmluZE1hbnk6IHZpLmZuKCksXG4gICAgfSxcbiAgICBhdWRpdExvZzoge1xuICAgICAgY3JlYXRlOiB2aS5mbigpLFxuICAgIH0sXG4gICAgJHRyYW5zYWN0aW9uOiB2aS5mbihjYWxsYmFjayA9PiBjYWxsYmFjaygpKSxcbiAgfSkpLFxufSkpXG5cbmRlc2NyaWJlKCdBcHBvaW50bWVudHMgQVBJJywgKCkgPT4ge1xuICBsZXQgbW9ja1ByaXNtYTogUHJpc21hQ2xpZW50XG4gIGxldCBtb2NrU2Vzc2lvbjogYW55XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgbW9ja1ByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKVxuICAgIG1vY2tTZXNzaW9uID0ge1xuICAgICAgdXNlcjoge1xuICAgICAgICBpZDogJ3VzZXItaWQnLFxuICAgICAgICByb2xlOiAnRE9DVE9SJyxcbiAgICAgIH0sXG4gICAgfVxuICAgIDsoZ2V0U2VydmVyU2Vzc2lvbiBhcyBhbnkpLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tTZXNzaW9uKVxuICB9KVxuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgdmkuY2xlYXJBbGxNb2NrcygpXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL2FwcG9pbnRtZW50cycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDEgZm9yIHVuYXV0aGVudGljYXRlZCB1c2VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIDsoZ2V0U2VydmVyU2Vzc2lvbiBhcyBhbnkpLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpXG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYXBwb2ludG1lbnRzJylcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgbGlzdEdFVChyZXF1ZXN0KVxuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMSlcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gYXBwb2ludG1lbnRzIGZvciBkb2N0b3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0FwcG9pbnRtZW50cyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnMScsXG4gICAgICAgICAgcGF0aWVudElkOiAncGF0aWVudC0xJyxcbiAgICAgICAgICBkb2N0b3JJZDogJ3VzZXItaWQnLFxuICAgICAgICAgIGRhdGU6ICcyMDI0LTAzLTE1JyxcbiAgICAgICAgICB0aW1lOiAnMDk6MDAnLFxuICAgICAgICAgIHN0YXR1czogJ1NDSEVEVUxFRCcsXG4gICAgICAgIH0sXG4gICAgICBdXG4gICAgICA7KG1vY2tQcmlzbWEuYXBwb2ludG1lbnQuZmluZE1hbnkgYXMgYW55KS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQXBwb2ludG1lbnRzKVxuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FwcG9pbnRtZW50cycpXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGxpc3RHRVQocmVxdWVzdClcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKClcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApXG4gICAgICBleHBlY3QoZGF0YSkudG9FcXVhbChtb2NrQXBwb2ludG1lbnRzKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIGZpbHRlciBhcHBvaW50bWVudHMgYnkgcGF0aWVudCBmb3IgcGF0aWVudCB1c2VycycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tTZXNzaW9uLnVzZXIucm9sZSA9ICdQQVRJRU5UJ1xuICAgICAgbW9ja1Nlc3Npb24udXNlci5pZCA9ICdwYXRpZW50LWlkJ1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FwcG9pbnRtZW50cycpXG4gICAgICBhd2FpdCBsaXN0R0VUKHJlcXVlc3QpXG5cbiAgICAgIGV4cGVjdChtb2NrUHJpc21hLmFwcG9pbnRtZW50LmZpbmRNYW55KS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIHdoZXJlOiBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgICBwYXRpZW50SWQ6ICdwYXRpZW50LWlkJyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGF0ZSByYW5nZSBmaWx0ZXJpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KFxuICAgICAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hcHBvaW50bWVudHM/c3RhcnREYXRlPTIwMjQtMDMtMDEmZW5kRGF0ZT0yMDI0LTAzLTMxJ1xuICAgICAgKVxuICAgICAgYXdhaXQgbGlzdEdFVChyZXF1ZXN0KVxuXG4gICAgICBleHBlY3QobW9ja1ByaXNtYS5hcHBvaW50bWVudC5maW5kTWFueSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICB3aGVyZTogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgICAgZGF0ZToge1xuICAgICAgICAgICAgICBndGU6ICcyMDI0LTAzLTAxJyxcbiAgICAgICAgICAgICAgbHRlOiAnMjAyNC0wMy0zMScsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KVxuICAgICAgKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL2FwcG9pbnRtZW50cy9baWRdJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGFwcG9pbnRtZW50IGRhdGEgZm9yIHZhbGlkIElEJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0FwcG9pbnRtZW50ID0ge1xuICAgICAgICBpZDogJzEnLFxuICAgICAgICBwYXRpZW50SWQ6ICdwYXRpZW50LTEnLFxuICAgICAgICBkb2N0b3JJZDogJ2RvY3Rvci0xJyxcbiAgICAgICAgZGF0ZTogJzIwMjQtMDMtMTUnLFxuICAgICAgICB0aW1lOiAnMDk6MDAnLFxuICAgICAgICBzdGF0dXM6ICdTQ0hFRFVMRUQnLFxuICAgICAgfVxuICAgICAgOyhtb2NrUHJpc21hLmFwcG9pbnRtZW50LmZpbmRVbmlxdWUgYXMgYW55KS5tb2NrUmVzb2x2ZWRWYWx1ZShtb2NrQXBwb2ludG1lbnQpXG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYXBwb2ludG1lbnRzLzEnKVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCwgeyBwYXJhbXM6IHsgaWQ6ICcxJyB9IH0pXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKVxuICAgICAgZXhwZWN0KGRhdGEpLnRvRXF1YWwobW9ja0FwcG9pbnRtZW50KVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiA0MDQgZm9yIG5vbi1leGlzdGVudCBhcHBvaW50bWVudCcsIGFzeW5jICgpID0+IHtcbiAgICAgIDsobW9ja1ByaXNtYS5hcHBvaW50bWVudC5maW5kVW5pcXVlIGFzIGFueSkubW9ja1Jlc29sdmVkVmFsdWUobnVsbClcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hcHBvaW50bWVudHMvOTk5JylcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QsIHsgcGFyYW1zOiB7IGlkOiAnOTk5JyB9IH0pXG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDA0KVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ1BPU1QgL2FwaS9hcHBvaW50bWVudHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgYSBuZXcgYXBwb2ludG1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtb2NrQXBwb2ludG1lbnQgPSB7XG4gICAgICAgIHBhdGllbnRJZDogJ3BhdGllbnQtMScsXG4gICAgICAgIGRvY3RvcklkOiAnZG9jdG9yLTEnLFxuICAgICAgICBkYXRlOiAnMjAyNC0wMy0xNScsXG4gICAgICAgIHRpbWU6ICcwOTowMCcsXG4gICAgICB9XG4gICAgICA7KG1vY2tQcmlzbWEuYXBwb2ludG1lbnQuY3JlYXRlIGFzIGFueSkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBpZDogJzEnLFxuICAgICAgICAuLi5tb2NrQXBwb2ludG1lbnQsXG4gICAgICAgIHN0YXR1czogJ1NDSEVEVUxFRCcsXG4gICAgICB9KVxuICAgICAgOyhtb2NrUHJpc21hLmF2YWlsYWJpbGl0eS5maW5kTWFueSBhcyBhbnkpLm1vY2tSZXNvbHZlZFZhbHVlKFtcbiAgICAgICAge1xuICAgICAgICAgIGRheU9mV2VlazogJ0ZSSURBWScsXG4gICAgICAgICAgc3RhcnRUaW1lOiAnMDk6MDAnLFxuICAgICAgICAgIGVuZFRpbWU6ICcxNzowMCcsXG4gICAgICAgIH0sXG4gICAgICBdKVxuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FwcG9pbnRtZW50cycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG1vY2tBcHBvaW50bWVudCksXG4gICAgICB9KVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAxKVxuICAgICAgZXhwZWN0KGRhdGEuaWQpLnRvQmUoJzEnKVxuICAgICAgZXhwZWN0KGRhdGEuc3RhdHVzKS50b0JlKCdTQ0hFRFVMRUQnKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHJlcXVpcmVkIGZpZWxkcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvYXBwb2ludG1lbnRzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe30pLFxuICAgICAgfSlcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUE9TVChyZXF1ZXN0KVxuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMClcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBkb2N0b3IgYXZhaWxhYmlsaXR5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgOyhtb2NrUHJpc21hLmF2YWlsYWJpbGl0eS5maW5kTWFueSBhcyBhbnkpLm1vY2tSZXNvbHZlZFZhbHVlKFtdKVxuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FwcG9pbnRtZW50cycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBwYXRpZW50SWQ6ICdwYXRpZW50LTEnLFxuICAgICAgICAgIGRvY3RvcklkOiAnZG9jdG9yLTEnLFxuICAgICAgICAgIGRhdGU6ICcyMDI0LTAzLTE1JyxcbiAgICAgICAgICB0aW1lOiAnMDk6MDAnLFxuICAgICAgICB9KSxcbiAgICAgIH0pXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QocmVxdWVzdClcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg0MDApXG4gICAgfSlcbiAgfSlcblxuICBkZXNjcmliZSgnUFVUIC9hcGkvYXBwb2ludG1lbnRzL1tpZF0nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB1cGRhdGUgYXBwb2ludG1lbnQgc3RhdHVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbW9ja0FwcG9pbnRtZW50ID0ge1xuICAgICAgICBpZDogJzEnLFxuICAgICAgICBzdGF0dXM6ICdDT01QTEVURUQnLFxuICAgICAgfVxuICAgICAgOyhtb2NrUHJpc21hLmFwcG9pbnRtZW50LnVwZGF0ZSBhcyBhbnkpLm1vY2tSZXNvbHZlZFZhbHVlKG1vY2tBcHBvaW50bWVudClcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hcHBvaW50bWVudHMvMScsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzdGF0dXM6ICdDT01QTEVURUQnIH0pLFxuICAgICAgfSlcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUFVUKHJlcXVlc3QsIHsgcGFyYW1zOiB7IGlkOiAnMScgfSB9KVxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMClcbiAgICAgIGV4cGVjdChkYXRhLnN0YXR1cykudG9CZSgnQ09NUExFVEVEJylcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBzdGF0dXMgdmFsdWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hcHBvaW50bWVudHMvMScsIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBzdGF0dXM6ICdJTlZBTElEX1NUQVRVUycgfSksXG4gICAgICB9KVxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQVVQocmVxdWVzdCwgeyBwYXJhbXM6IHsgaWQ6ICcxJyB9IH0pXG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKVxuICAgIH0pXG4gIH0pXG5cbiAgZGVzY3JpYmUoJ0RFTEVURSAvYXBpL2FwcG9pbnRtZW50cy9baWRdJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2FuY2VsIGFuIGFwcG9pbnRtZW50JywgYXN5bmMgKCkgPT4ge1xuICAgICAgOyhtb2NrUHJpc21hLmFwcG9pbnRtZW50LmRlbGV0ZSBhcyBhbnkpLm1vY2tSZXNvbHZlZFZhbHVlKHsgaWQ6ICcxJyB9KVxuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL2FwcG9pbnRtZW50cy8xJywge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgfSlcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgREVMRVRFKHJlcXVlc3QsIHsgcGFyYW1zOiB7IGlkOiAnMScgfSB9KVxuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwNClcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gNDA0IGZvciBub24tZXhpc3RlbnQgYXBwb2ludG1lbnQnLCBhc3luYyAoKSA9PiB7XG4gICAgICA7KG1vY2tQcmlzbWEuYXBwb2ludG1lbnQuZGVsZXRlIGFzIGFueSkubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdOb3QgZm91bmQnKSlcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9hcHBvaW50bWVudHMvOTk5Jywge1xuICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgfSlcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgREVMRVRFKHJlcXVlc3QsIHsgcGFyYW1zOiB7IGlkOiAnOTk5JyB9IH0pXG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDA0KVxuICAgIH0pXG4gIH0pXG59KSAiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxTQUFBLEdBQUFGLE9BQUE7QUFDQSxJQUFBRyxPQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxNQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxPQUFBLEdBQUFMLE9BQUE7QUFBNkQsU0FBQU0sUUFBQUMsQ0FBQSxFQUFBQyxDQUFBLFFBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxJQUFBLENBQUFKLENBQUEsT0FBQUcsTUFBQSxDQUFBRSxxQkFBQSxRQUFBQyxDQUFBLEdBQUFILE1BQUEsQ0FBQUUscUJBQUEsQ0FBQUwsQ0FBQSxHQUFBQyxDQUFBLEtBQUFLLENBQUEsR0FBQUEsQ0FBQSxDQUFBQyxNQUFBLFdBQUFOLENBQUEsV0FBQUUsTUFBQSxDQUFBSyx3QkFBQSxDQUFBUixDQUFBLEVBQUFDLENBQUEsRUFBQVEsVUFBQSxPQUFBUCxDQUFBLENBQUFRLElBQUEsQ0FBQUMsS0FBQSxDQUFBVCxDQUFBLEVBQUFJLENBQUEsWUFBQUosQ0FBQTtBQUFBLFNBQUFVLGNBQUFaLENBQUEsYUFBQUMsQ0FBQSxNQUFBQSxDQUFBLEdBQUFZLFNBQUEsQ0FBQUMsTUFBQSxFQUFBYixDQUFBLFVBQUFDLENBQUEsV0FBQVcsU0FBQSxDQUFBWixDQUFBLElBQUFZLFNBQUEsQ0FBQVosQ0FBQSxRQUFBQSxDQUFBLE9BQUFGLE9BQUEsQ0FBQUksTUFBQSxDQUFBRCxDQUFBLE9BQUFhLE9BQUEsV0FBQWQsQ0FBQSxRQUFBZSxnQkFBQSxDQUFBQyxPQUFBLEVBQUFqQixDQUFBLEVBQUFDLENBQUEsRUFBQUMsQ0FBQSxD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