{"version":3,"names":["os_1","tslib_1","__importDefault","require","MongoBinaryDownload_1","resolveConfig_1","__importStar","debug_1","semver","utils_1","child_process_1","lockfile_1","DryMongoBinary_1","log","default","MongoBinary","download","options","downloadDir","version","mkdir","lockfile","lockfilePath","lock","LockFile","DryMongoBinary","binaryCache","has","downloader","set","getMongodPath","unlock","cachePath","get","assertion","Error","getPath","opts","_objectSpread","generateOptions","platform","ResolveConfigVariables","PLATFORM","checkMD5","envToBool","MD5_CHECK","JSON","stringify","binaryPath","locateBinary","systemBinary","isNullOrUndefined","SYSTEM_BINARY_VERSION_CHECK","spawnOutput","spawnSync","stdout","toString","match","binaryVersion","neq","console","warn","RUNTIME_DOWNLOAD","runtimeDownload","exports"],"sources":["../../src/util/MongoBinary.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}